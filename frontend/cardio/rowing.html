<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rowing - Exercise Guide | Vivify</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        .overview-image {
            width: 100%;
            height: 470px; /* Set a fixed height */
            overflow: hidden;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .overview-image img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* This crops the image to fit perfectly */
            object-position: Bottom; /* Centers the crop */
            border-radius: 10px;
        }

        .overview-image img.contain {
            object-fit: contain; /* Shows full image, may have empty space */
            background-color: #222; /* Fill empty space with background color */
        }
        
        /* Fix internal text alignment */
        .exercise-details {
            padding: 2rem; /* Consistent padding */
            text-align: left; /* Ensure left alignment */
        }

        .exercise-details h2 {
            margin-top: 0; /* Remove top margin */
            margin-bottom: 1.5rem; /* Consistent bottom spacing */
        }

        /* Fix label/value alignment */
        .detail-row {
            display: flex;
            margin-bottom: 1rem;
            align-items: flex-start;
        }

        .detail-label {
            min-width: 150px; /* Fixed width for labels */
            font-weight: bold;
            margin-right: 1rem;
        }

        .detail-value {
            flex: 1;
            text-align: left; /* Ensure left alignment */
        }

        /* Fix overall container positioning */
        .exercise-overview {
            max-width: 1200px;
            margin: 0 auto; /* Center the container */
            padding: 2rem; /* Consistent outer padding */
        }

        /* Fix title spacing */
        .section-heading {
            margin-bottom: 2rem; /* Consistent spacing below title */
            text-align: left;
        }
        /* Footer styles to ensure it stays at bottom */
        footer {
            background-color: #000;
            color: white;
            text-align: center;
            padding: 2rem 0;
            width: 100%;
            margin-top: auto;
            border-top: 1px solid #333;
        }

        footer .footer-links {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 1rem 0 0 0;
            padding: 0;
        }

        footer .footer-links a {
            color: #a0a0a0;
            text-decoration: none;
            transition: color 0.3s;
        }

        footer .footer-links a:hover {
            color: #f39c12;
        }
        
        /* Exercise Detail Page Styles */
        .exercise-hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('rowing.jpg');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 5rem 2rem;
            text-align: center;
        }

        .exercise-hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .exercise-hero .meta-tags {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1.5rem;
        }

        .meta-tag {
            background-color: rgba(0, 0, 0, 0.5);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .meta-tag i {
            color: #f39c12;
        }

        .exercise-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }

        .section-heading {
            color: #f39c12;
            margin: 2rem 0 1rem;
            font-size: 2rem;
        }

        .exercise-overview {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        @media (max-width: 768px) {
            .exercise-overview {
                grid-template-columns: 1fr;
            }
        }

        .overview-details {
            background-color: #222;
            padding: 1.5rem;
            border-radius: 10px;
        }

        .overview-details h3 {
            color: #f39c12;
            margin-top: 0;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .detail-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .detail-list li {
            display: flex;
            margin-bottom: 1rem;
        }

        .detail-label {
            font-weight: 700;
            width: 120px;
            color: #ddd;
        }

        .detail-value {
            color: #aaa;
        }

        .overview-image {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .overview-image img {
            max-width: 100%;
            border-radius: 10px;
        }

        .instruction-steps {
            counter-reset: step-counter;
            list-style: none;
            padding: 0;
        }

        .instruction-step {
            background-color: #222;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            display: grid;
            grid-template-columns: 50px 1fr;
            align-items: start;
            gap: 1rem;
        }

        .step-number {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: #f39c12;
            color: #000;
            border-radius: 50%;
            font-weight: 700;
            font-size: 1.2rem;
        }

        .step-content h4 {
            margin-top: 0;
            color: #f39c12;
            margin-bottom: 0.5rem;
        }

        .step-content p {
            color: #ddd;
            margin: 0 0 1rem;
            line-height: 1.6;
        }

        .tips-section {
            background-color: #222;
            padding: 2rem;
            border-radius: 10px;
            margin: 3rem 0;
        }

        .tips-section h3 {
            color: #f39c12;
            margin-top: 0;
        }

        .tips-list {
            list-style: none;
            padding: 0;
        }

        .tips-list li {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
            position: relative;
            color: #ddd;
            line-height: 1.6;
        }

        .tips-list li::before {
            content: '→';
            color: #f39c12;
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        .common-mistakes {
            background-color: #331111;
            padding: 2rem;
            border-radius: 10px;
            margin: 3rem 0;
        }

        .common-mistakes h3 {
            color: #ff6b6b;
            margin-top: 0;
        }

        .mistake-list {
            list-style: none;
            padding: 0;
        }

        .mistake-list li {
            margin-bottom: 1.5rem;
            padding-left: 2rem;
            position: relative;
            color: #ddd;
            line-height: 1.6;
        }

        .mistake-list li::before {
            content: '✕';
            color: #ff6b6b;
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        .mistake-list strong {
            color: #ff6b6b;
        }

        .variations-section {
            margin: 3rem 0;
        }

        .variation-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .variation-card {
            background-color: #222;
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s;
        }

        .variation-card:hover {
            transform: translateY(-5px);
        }

        .variation-card img {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .variation-info {
            padding: 1.5rem;
        }

        .variation-info h4 {
            margin-top: 0;
            color: #f39c12;
            margin-bottom: 0.5rem;
        }

        .variation-info p {
            color: #ddd;
            margin-bottom: 1rem;
        }

        .difficulty-meter {
            display: flex;
            gap: 0.2rem;
        }

        .difficulty-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #333;
        }

        .difficulty-dot.active {
            background-color: #f39c12;
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
            overflow: hidden;
            border-radius: 10px;
            margin: 2rem 0;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .related-exercises {
            margin: 3rem 0;
        }

        .related-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .related-card {
            background-color: #222;
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .related-card:hover {
            transform: translateY(-5px);
        }

        .related-card img {
            width: 100%;
            height: 160px;
            object-fit: cover;
        }

        .related-info {
            padding: 1rem;
        }

        .related-info h4 {
            margin-top: 0;
            color: #f39c12;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .related-info p {
            color: #ddd;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .related-info a {
            color: #f39c12;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
        }

        .related-info a i {
            margin-left: 0.3rem;
        }

        .related-info a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .exercise-hero h1 {
                font-size: 2.5rem;
            }
            
            .exercise-hero .meta-tags {
                flex-direction: column;
                gap: 0.5rem;
                align-items: center;
            }
            
            .instruction-step {
                grid-template-columns: 40px 1fr;
            }
        }
    @media (max-width: 768px) {
            /* FORCE hide all desktop navigation */
            nav ul,
            nav li,
            .left-nav ul,
            .right-nav ul,
            .left-nav li,
            .right-nav li,
            .left-nav > ul,
            .right-nav > ul {
                display: none !important;
                visibility: hidden !important;
            }
            
            /* Ensure nav container works properly */
            nav {
                display: flex !important;
                justify-content: space-between !important;
                align-items: center !important;
                padding: 1rem !important;
                flex-wrap: nowrap !important;
            }
            
            /* Keep logo visible */
            .logo,
            .logo a {
                display: block !important;
                visibility: visible !important;
                font-size: 1.5rem !important;
                white-space: nowrap !important;
            }
            
            /* Force show mobile button if it exists */
            .mobile-menu-btn {
                display: flex !important;
                visibility: visible !important;
                flex-direction: column;
                background: none;
                border: none;
                cursor: pointer;
                padding: 0.5rem;
                z-index: 1001;
            }
            
            /* Mobile button styles */
            .mobile-menu-btn .hamburger {
                width: 25px;
                height: 3px;
                background: #ffffff;
                margin: 3px 0;
                transition: 0.3s;
                border-radius: 2px;
            }
            
            /* Ensure right-nav container shows mobile button */
            .right-nav {
                display: flex !important;
                align-items: center !important;
                visibility: visible !important;
            }
        }

        /* If no mobile button exists, add this emergency button */
        @media (max-width: 768px) {
            nav:not(:has(.mobile-menu-btn))::after {
                content: "☰";
                position: absolute;
                right: 1rem;
                top: 50%;
                transform: translateY(-50%);
                color: white;
                font-size: 1.5rem;
                cursor: pointer;
            }
        }
        .mobile-menu {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(10, 10, 10, 0.98);
            backdrop-filter: blur(20px);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .mobile-menu.active {
            opacity: 1;
            visibility: visible;
        }

        .mobile-menu-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 2rem;
        }

        .mobile-menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 2rem;
        }

        .mobile-menu-close {
            background: none;
            border: none;
            color: #ffffff;
            font-size: 2rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        .mobile-menu-links {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .mobile-menu-link {
            color: #ffffff;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 500;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }

        .mobile-menu-link:hover {
            color: #f39c12;
            padding-left: 1rem;
        }

        .mobile-menu-link.mobile-cta {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: #000 !important;
            border-radius: 12px;
            margin-top: 1rem;
            text-align: center;
            font-weight: 600;
            border: none;
        }

        .mobile-menu-divider {
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
            margin: 1rem 0;
        }

        .mobile-menu-btn.active .hamburger:nth-child(1) {
            transform: rotate(-45deg) translate(-5px, 6px);
        }

        .mobile-menu-btn.active .hamburger:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-btn.active .hamburger:nth-child(3) {
            transform: rotate(45deg) translate(-5px, -6px);
        }

    </style>
    <script>
        // Authentication-aware mobile menu
function createMobileMenu() {
    // Check authentication status
    const authToken = localStorage.getItem('authToken');
    const userLoggedIn = localStorage.getItem('userLoggedIn');
    const isLoggedIn = !!(authToken || userLoggedIn === 'true');
    const username = localStorage.getItem('username') || 'User';
    
    console.log('Auth check:', { authToken, userLoggedIn, isLoggedIn, username }); // Debug log
    
    // Create mobile menu if it doesn't exist
    if (!document.getElementById('mobile-menu')) {
        const header = document.querySelector('header');
        const mobileMenu = document.createElement('div');
        mobileMenu.id = 'mobile-menu';
        mobileMenu.className = 'mobile-menu';
        
        // Generate auth-specific menu items
        let authMenuItems = '';
        if (isLoggedIn) {
            authMenuItems = `
                <div class="mobile-menu-divider"></div>
                <div class="mobile-user-info">
                    <span style="color: #f39c12; font-weight: 600; padding: 0.5rem 0;">Welcome, ${username}!</span>
                </div>
                <a href="dashboard.html" class="mobile-menu-link mobile-cta">Dashboard</a>
                <a href="profile.html" class="mobile-menu-link">Profile</a>
                <a href="#" class="mobile-menu-link" onclick="handleMobileLogout(event)">Logout</a>
            `;
        } else {
            authMenuItems = `
                <div class="mobile-menu-divider"></div>
                <a href="login.html" class="mobile-menu-link">Login</a>
                <a href="signup.html" class="mobile-menu-link mobile-cta">Start Training</a>
            `;
        }
        
        mobileMenu.innerHTML = `
            <div class="mobile-menu-content">
                <div class="mobile-menu-header">
                    <div class="logo"><a href="index.html">Vivify</a></div>
                    <button class="mobile-menu-close" onclick="closeMobileMenu()">×</button>
                </div>
                <div class="mobile-menu-links">
                    <a href="index.html" class="mobile-menu-link">Home</a>
                    <a href="index.html#training" class="mobile-menu-link">Training Areas</a>
                    <a href="index.html#habits" class="mobile-menu-link">Habits & Challenges</a>
                    <a href="about.html" class="mobile-menu-link">About</a>
                    <a href="community.html" class="mobile-menu-link">Community</a>
                    ${authMenuItems}
                </div>
            </div>
        `;
        header.appendChild(mobileMenu);
    }
    
    // Create mobile button if it doesn't exist
    if (!document.getElementById('mobile-menu-btn')) {
        const nav = document.querySelector('nav');
        const rightNav = nav.querySelector('.right-nav') || nav;
        const mobileBtn = document.createElement('button');
        mobileBtn.id = 'mobile-menu-btn';
        mobileBtn.className = 'mobile-menu-btn';
        mobileBtn.onclick = toggleMobileMenu;
        mobileBtn.innerHTML = `
            <span class="hamburger"></span>
            <span class="hamburger"></span>
            <span class="hamburger"></span>
        `;
        rightNav.appendChild(mobileBtn);
    }
}

function handleMobileLogout(event) {
    event.preventDefault();
    if (confirm('Are you sure you want to logout?')) {
        // Clear all auth data
        localStorage.clear();
        
        // Close mobile menu
        closeMobileMenu();
        
        // Refresh the page to update UI
        window.location.reload();
    }
}

function toggleMobileMenu() {
    const menu = document.getElementById('mobile-menu');
    const btn = document.getElementById('mobile-menu-btn');
    
    menu.classList.toggle('active');
    btn.classList.toggle('active');
    
    if (menu.classList.contains('active')) {
        document.body.style.overflow = 'hidden';
    } else {
        document.body.style.overflow = '';
    }
}

function closeMobileMenu() {
    const menu = document.getElementById('mobile-menu');
    const btn = document.getElementById('mobile-menu-btn');
    
    menu.classList.remove('active');
    btn.classList.remove('active');
    document.body.style.overflow = '';
}

// Function to update mobile menu when auth state changes
function updateMobileMenuAuth() {
    const existingMenu = document.getElementById('mobile-menu');
    if (existingMenu) {
        existingMenu.remove();
    }
    createMobileMenu();
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', createMobileMenu);

// Listen for auth state changes (if you have an auth system that fires events)
window.addEventListener('authStateChanged', updateMobileMenuAuth);

// Export functions for external use
window.updateMobileMenuAuth = updateMobileMenuAuth;
window.handleMobileLogout = handleMobileLogout;
        </script>

<!-- PWA Manifest -->
<link rel="manifest" href="/manifest.json">

<!-- iOS PWA Support -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="performance Hub">
<link rel="apple-touch-icon" href="/icons/icon-192x192.png">
<link rel="apple-touch-icon" sizes="152x152" href="/icons/icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/icons/icon-180x180.png">

<!-- Microsoft Tiles -->
<meta name="msapplication-TileImage" content="/icons/icon-144x144.png">
<meta name="msapplication-TileColor" content="#f39c12">

<!-- Theme Color -->
<meta name="theme-color" content="#f39c12">

<!-- Viewport for PWA -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

<!-- Preload PWA installer script -->
<link rel="preload" href="/pwa-install.js" as="script">
<!-- CSS Loading Order Fix -->

<link rel="stylesheet" href="styles.css">

<!-- FOUC Prevention -->
<style>
    html { visibility: hidden; opacity: 0; }
    html.loaded { visibility: visible; opacity: 1; transition: opacity 0.3s ease; }
@media (max-width: 768px) {
            /* FORCE hide all desktop navigation */
            nav ul,
            nav li,
            .left-nav ul,
            .right-nav ul,
            .left-nav li,
            .right-nav li,
            .left-nav > ul,
            .right-nav > ul {
                display: none !important;
                visibility: hidden !important;
            }
            
            /* Ensure nav container works properly */
            nav {
                display: flex !important;
                justify-content: space-between !important;
                align-items: center !important;
                padding: 1rem !important;
                flex-wrap: nowrap !important;
            }
            
            /* Keep logo visible */
            .logo,
            .logo a {
                display: block !important;
                visibility: visible !important;
                font-size: 1.5rem !important;
                white-space: nowrap !important;
            }
            
            /* Force show mobile button if it exists */
            .mobile-menu-btn {
                display: flex !important;
                visibility: visible !important;
                flex-direction: column;
                background: none;
                border: none;
                cursor: pointer;
                padding: 0.5rem;
                z-index: 1001;
            }
            
            /* Mobile button styles */
            .mobile-menu-btn .hamburger {
                width: 25px;
                height: 3px;
                background: #ffffff;
                margin: 3px 0;
                transition: 0.3s;
                border-radius: 2px;
            }
            
            /* Ensure right-nav container shows mobile button */
            .right-nav {
                display: flex !important;
                align-items: center !important;
                visibility: visible !important;
            }
        }

        /* If no mobile button exists, add this emergency button */
        @media (max-width: 768px) {
            nav:not(:has(.mobile-menu-btn))::after {
                content: "☰";
                position: absolute;
                right: 1rem;
                top: 50%;
                transform: translateY(-50%);
                color: white;
                font-size: 1.5rem;
                cursor: pointer;
            }
        }
        .mobile-menu {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(10, 10, 10, 0.98);
            backdrop-filter: blur(20px);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .mobile-menu.active {
            opacity: 1;
            visibility: visible;
        }

        .mobile-menu-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 2rem;
        }

        .mobile-menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 2rem;
        }

        .mobile-menu-close {
            background: none;
            border: none;
            color: #ffffff;
            font-size: 2rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        .mobile-menu-links {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .mobile-menu-link {
            color: #ffffff;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 500;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }

        .mobile-menu-link:hover {
            color: #f39c12;
            padding-left: 1rem;
        }

        .mobile-menu-link.mobile-cta {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: #000 !important;
            border-radius: 12px;
            margin-top: 1rem;
            text-align: center;
            font-weight: 600;
            border: none;
        }

        .mobile-menu-divider {
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
            margin: 1rem 0;
        }

        .mobile-menu-btn.active .hamburger:nth-child(1) {
            transform: rotate(-45deg) translate(-5px, 6px);
        }

        .mobile-menu-btn.active .hamburger:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-btn.active .hamburger:nth-child(3) {
            transform: rotate(45deg) translate(-5px, -6px);
        }

    </style>
    <script>
        // Authentication-aware mobile menu
function createMobileMenu() {
    // Check authentication status
    const authToken = localStorage.getItem('authToken');
    const userLoggedIn = localStorage.getItem('userLoggedIn');
    const isLoggedIn = !!(authToken || userLoggedIn === 'true');
    const username = localStorage.getItem('username') || 'User';
    
    console.log('Auth check:', { authToken, userLoggedIn, isLoggedIn, username }); // Debug log
    
    // Create mobile menu if it doesn't exist
    if (!document.getElementById('mobile-menu')) {
        const header = document.querySelector('header');
        const mobileMenu = document.createElement('div');
        mobileMenu.id = 'mobile-menu';
        mobileMenu.className = 'mobile-menu';
        
        // Generate auth-specific menu items
        let authMenuItems = '';
        if (isLoggedIn) {
            authMenuItems = `
                <div class="mobile-menu-divider"></div>
                <div class="mobile-user-info">
                    <span style="color: #f39c12; font-weight: 600; padding: 0.5rem 0;">Welcome, ${username}!</span>
                </div>
                <a href="dashboard.html" class="mobile-menu-link mobile-cta">Dashboard</a>
                <a href="profile.html" class="mobile-menu-link">Profile</a>
                <a href="#" class="mobile-menu-link" onclick="handleMobileLogout(event)">Logout</a>
            `;
        } else {
            authMenuItems = `
                <div class="mobile-menu-divider"></div>
                <a href="login.html" class="mobile-menu-link">Login</a>
                <a href="signup.html" class="mobile-menu-link mobile-cta">Start Training</a>
            `;
        }
        
        mobileMenu.innerHTML = `
            <div class="mobile-menu-content">
                <div class="mobile-menu-header">
                    <div class="logo"><a href="index.html">Vivify</a></div>
                    <button class="mobile-menu-close" onclick="closeMobileMenu()">×</button>
                </div>
                <div class="mobile-menu-links">
                    <a href="index.html" class="mobile-menu-link">Home</a>
                    <a href="index.html#training" class="mobile-menu-link">Training Areas</a>
                    <a href="index.html#habits" class="mobile-menu-link">Habits & Challenges</a>
                    <a href="about.html" class="mobile-menu-link">About</a>
                    <a href="community.html" class="mobile-menu-link">Community</a>
                    ${authMenuItems}
                </div>
            </div>
        `;
        header.appendChild(mobileMenu);
    }
    
    // Create mobile button if it doesn't exist
    if (!document.getElementById('mobile-menu-btn')) {
        const nav = document.querySelector('nav');
        const rightNav = nav.querySelector('.right-nav') || nav;
        const mobileBtn = document.createElement('button');
        mobileBtn.id = 'mobile-menu-btn';
        mobileBtn.className = 'mobile-menu-btn';
        mobileBtn.onclick = toggleMobileMenu;
        mobileBtn.innerHTML = `
            <span class="hamburger"></span>
            <span class="hamburger"></span>
            <span class="hamburger"></span>
        `;
        rightNav.appendChild(mobileBtn);
    }
}

function handleMobileLogout(event) {
    event.preventDefault();
    if (confirm('Are you sure you want to logout?')) {
        // Clear all auth data
        localStorage.clear();
        
        // Close mobile menu
        closeMobileMenu();
        
        // Refresh the page to update UI
        window.location.reload();
    }
}

function toggleMobileMenu() {
    const menu = document.getElementById('mobile-menu');
    const btn = document.getElementById('mobile-menu-btn');
    
    menu.classList.toggle('active');
    btn.classList.toggle('active');
    
    if (menu.classList.contains('active')) {
        document.body.style.overflow = 'hidden';
    } else {
        document.body.style.overflow = '';
    }
}

function closeMobileMenu() {
    const menu = document.getElementById('mobile-menu');
    const btn = document.getElementById('mobile-menu-btn');
    
    menu.classList.remove('active');
    btn.classList.remove('active');
    document.body.style.overflow = '';
}

// Function to update mobile menu when auth state changes
function updateMobileMenuAuth() {
    const existingMenu = document.getElementById('mobile-menu');
    if (existingMenu) {
        existingMenu.remove();
    }
    createMobileMenu();
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', createMobileMenu);

// Listen for auth state changes (if you have an auth system that fires events)
window.addEventListener('authStateChanged', updateMobileMenuAuth);

// Export functions for external use
window.updateMobileMenuAuth = updateMobileMenuAuth;
window.handleMobileLogout = handleMobileLogout;
        </script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.documentElement.classList.add('loaded');
    });
    window.addEventListener('load', function() {
        document.documentElement.classList.add('loaded');
    });
</script>
<script src="js/vivify-stats.js"></script>
<script src="js/leaderboard-system.js"></script>
</head>
<body>
    <div class="wrapper">
        <header>
            <nav>
                <div class="left-nav">
                    <div class="logo">
                        <a href="../index.html" aria-label="Home Page"><h1>Vivify</h1></a>
                    </div>
                    <ul>
                        <li><a href="../about.html" aria-label="About Us Page">About</a></li>
                        <li class="dropdown" id="categoryDropdown">
                            <a href="#" class="dropbtn" aria-label="Categories Dropdown">Fitness</a>
                            <div class="dropdown-content">
                                <a href="../fitness.html" aria-label="Fitness Page">Fitness Home</a>
                                <a href="../strength.html" aria-label="Strength Training Page">Strength Training</a>
                                <a href="../cardio.html" class="active" aria-label="Cardio Training Page">Cardio Training</a>
                                <a href="../flexibility.html" aria-label="Flexibility Page">Flexibility</a>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="right-nav">
                    <ul>
                        <li><a href="../Dashboard.html" aria-label="Dashboard">Performance Hub</a></li>
                        <li><a href="../profile.html" id="profileLink" aria-label="Profile Page">Profile</a></li>
                        <li><a href="#" id="logoutLink" aria-label="Logout">Logout</a></li>
                        <li><a href="../login.html" id="loginLink" style="display: none;" aria-label="Login Page">Login</a></li>
                        <li><a href="../signup.html" id="signupLink" style="display: none;" aria-label="Sign Up Page">Sign Up</a></li>
                    </ul>
                </div>
            </nav>
        </header>

        <!-- Exercise Hero Section -->
        <section class="exercise-hero">
            <h1>Rowing</h1>
            <p>A full-body, low-impact exercise that combines cardiovascular and strength benefits in one efficient workout</p>
            
            <div class="meta-tags">
                <div class="meta-tag">
                    <i class="fas fa-heartbeat"></i>
                    <span>Cardiovascular, Full Body</span>
                </div>
                <div class="meta-tag">
                    <i class="fas fa-layer-group"></i>
                    <span>Beginner to Advanced</span>
                </div>
                <div class="meta-tag">
                    <i class="fas fa-tools"></i>
                    <span>Rowing Machine or Water Access</span>
                </div>
            </div>
        </section>

        <!-- Main Content -->
        <div class="exercise-content">
            <!-- Overview Section -->
            <h2 class="section-heading">Exercise Overview</h2>
            <div class="exercise-overview">
                <div class="overview-details">
                    <h3>Exercise Details</h3>
                    <ul class="detail-list">
                        <li>
                            <span class="detail-label">Primary Benefit:</span>
                            <span class="detail-value">Cardiovascular Endurance, Full Body Strength</span>
                        </li>
                        <li>
                            <span class="detail-label">Muscles Worked:</span>
                            <span class="detail-value">Legs (Quadriceps, Hamstrings, Glutes), Core, Back, Arms, Shoulders</span>
                        </li>
                        <li>
                            <span class="detail-label">Equipment:</span>
                            <span class="detail-value">Rowing Machine or Rowing Boat</span>
                        </li>
                        <li>
                            <span class="detail-label">Type:</span>
                            <span class="detail-value">Cardiovascular, Resistance</span>
                        </li>
                        <li>
                            <span class="detail-label">Experience Level:</span>
                            <span class="detail-value">All Levels (Technique-Focused)</span>
                        </li>
                        <li>
                            <span class="detail-label">Calorie Burn:</span>
                            <span class="detail-value">~400-800 calories per hour (varies by intensity and weight)</span>
                        </li>
                        <li>
                            <span class="detail-label">Impact Level:</span>
                            <span class="detail-value">Low</span>
                        </li>
                    </ul>
                </div>
                <div class="overview-image">
                    <img src="https://images.unsplash.com/photo-1577221084712-45b0445d2b00?auto=format&fit=crop&w=600&q=80" alt="Person Using Rowing Machine">
                </div>
            </div>

            <!-- Video Demonstration -->
            <h2 class="section-heading">Video Demonstration</h2>
            <div class="video-container">
                <!-- This would be a real exercise video in production -->
                <iframe src="https://www.youtube.com/embed/6_eLpWiNijE" title="Rowing Technique Demonstration" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>

            <!-- Step-by-Step Instructions -->
            <h2 class="section-heading">How to Row with Proper Form</h2>
            <ol class="instruction-steps">
                <li class="instruction-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>The Catch Position</h4>
                        <p>Start by sitting on the rowing machine with your feet secured in the footplates, knees bent close to your chest. Reach forward to grasp the handle with both hands, keeping your back straight, core engaged, and shoulders relaxed. Your shins should be nearly vertical, and your weight should be on the balls of your feet.</p>
                    </div>
                </li>
                <li class="instruction-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>The Drive: Leg Push</h4>
                        <p>Initiate the movement by pushing through your legs while keeping your arms straight and back firm. This is the most powerful part of the stroke, where approximately 60% of your power should come from. Push through your heels rather than your toes to engage your posterior chain effectively.</p>
                    </div>
                </li>
                <li class="instruction-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>The Drive: Body Swing</h4>
                        <p>As your legs approach full extension, begin to lean back slightly from your hips (approximately to a 11 o'clock position), maintaining a strong core and straight back. This hip hinge contributes about 20% of the stroke's power and should be a controlled, smooth movement.</p>
                    </div>
                </li>
                <li class="instruction-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h4>The Drive: Arm Pull</h4>
                        <p>After your legs are extended and your back has hinged slightly backward, pull the handle toward your body, drawing it to the bottom of your ribcage or top of your abdomen. Keep your elbows close to your sides as they bend, and your wrists flat. This final phase contributes the remaining 20% of power.</p>
                    </div>
                </li>
                <li class="instruction-step">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <h4>The Finish Position</h4>
                        <p>At the end of the drive, your legs should be extended (but not locked), your back should be leaning slightly back, and the handle should be pulled in at the base of your ribcage. Your core should remain engaged to support your lower back in this position.</p>
                    </div>
                </li>
                <li class="instruction-step">
                    <div class="step-number">6</div>
                    <div class="step-content">
                        <h4>The Recovery: Arms First</h4>
                        <p>Begin the return journey by extending your arms forward, away from your torso. Keep your wrists flat and maintain your slight backward lean during this phase. The recovery phase should be slower and more controlled than the drive phase.</p>
                    </div>
                </li>
                <li class="instruction-step">
                    <div class="step-number">7</div>
                    <div class="step-content">
                        <h4>The Recovery: Body Pivot</h4>
                        <p>Once your arms are extended, hinge forward at the hips, moving your shoulders ahead of your pelvis while maintaining a straight back. This movement prepares your body for the final phase of the recovery.</p>
                    </div>
                </li>
                <li class="instruction-step">
                    <div class="step-number">8</div>
                    <div class="step-content">
                        <h4>The Recovery: Leg Bend</h4>
                        <p>After your upper body has pivoted forward, allow your knees to bend and slide the seat forward toward the footplates. This brings you back to the catch position to begin the next stroke. The entire recovery phase should be relaxed and controlled, using it as a brief moment to prepare for the next power stroke.</p>
                    </div>
                </li>
            </ol>

            <!-- Training Tips -->
            <section class="tips-section">
                <h3>Rowing Training Tips</h3>
                <ul class="tips-list">
                    <li><strong>Focus on technique first:</strong> Proper form is essential for effective rowing and injury prevention. Consider recording yourself to check your form or work with a coach initially.</li>
                    <li><strong>Follow the sequence:</strong> Remember the proper order for both drive (legs-body-arms) and recovery (arms-body-legs). Many beginners try to do everything simultaneously.</li>
                    <li><strong>Control the recovery:</strong> Your recovery phase should be approximately twice as long as your drive. This creates an efficient rhythm and prevents premature fatigue.</li>
                    <li><strong>Breathe rhythmically:</strong> Establish a breathing pattern that works with your stroke rhythm. Many rowers exhale during the drive and inhale during recovery.</li>
                    <li><strong>Start with intervals:</strong> New rowers should begin with interval training (e.g., 1 minute rowing, 1 minute rest) to develop proper technique before attempting longer continuous sessions.</li>
                    <li><strong>Use the damper setting correctly:</strong> The damper setting (typically 1-10) controls airflow, not resistance. Most rowers perform best between 3-5, regardless of fitness level.</li>
                    <li><strong>Track your metrics:</strong> Pay attention to your stroke rate (strokes per minute), split time (time per 500m), and total distance/time. Gradual improvements in these metrics indicate progress.</li>
                    <li><strong>Include variety:</strong> Mix up your rowing workouts with steady-state sessions, intervals, and pyramid workouts to prevent plateaus and maintain motivation.</li>
                </ul>
            </section>

            <!-- Common Mistakes -->
            <section class="common-mistakes">
                <h3>Common Rowing Mistakes to Avoid</h3>
                <ul class="mistake-list">
                    <li><strong>Rowing with your arms only:</strong> This neglects the powerful leg drive and puts excessive strain on smaller muscle groups. Remember that rowing is primarily a leg exercise with the arms finishing the stroke.</li>
                    <li><strong>Hunching your back:</strong> Rowing with a rounded or hunched back places dangerous stress on your spine and reduces power. Maintain a straight, strong back throughout the entire movement.</li>
                    <li><strong>Raising your hands over your knees:</strong> During the recovery, many beginners lift the handle over their knees instead of pivoting from the hips first. This creates inefficient movement and can lead to hitting your knees with the handle.</li>
                    <li><strong>Rushing the recovery:</strong> Sliding quickly back to the catch position wastes energy and disrupts your rhythm. The recovery should be controlled and slower than the drive.</li>
                    <li><strong>Improper handle grip:</strong> Gripping the handle too tightly causes forearm fatigue and can lead to blisters. Hold the handle firmly but not with a death grip, keeping your wrists flat rather than bent.</li>
                    <li><strong>Setting damper too high:</strong> Many beginners set the damper (resistance) too high thinking it provides a better workout. This can lead to poor technique and increased risk of injury. Start between 3-5 and focus on technique.</li>
                    <li><strong>Overreaching at the catch:</strong> Reaching too far forward at the catch position can compress your spine and lead to lower back pain. Your shins should be nearly vertical at the catch, not angled beyond the perpendicular.</li>
                </ul>
            </section>

            <!-- Exercise Variations -->
            <section class="variations-section">
                <h2 class="section-heading">Rowing Variations and Workouts</h2>
                <div class="variation-cards">
                    <div class="variation-card">
                        <img src="Steady-Row.jpg" alt="Steady State Rowing">
                        <div class="variation-info">
                            <h4>Steady State Rowing</h4>
                            <p>Continuous rowing at a moderate intensity (60-70% of maximum effort) for 20-60 minutes. Excellent for building aerobic endurance and developing proper technique through repetition.</p>
                            <div class="difficulty-meter">
                                <span class="difficulty-dot active"></span>
                                <span class="difficulty-dot active"></span>
                                <span class="difficulty-dot"></span>
                                <span class="difficulty-dot"></span>
                                <span class="difficulty-dot"></span>
                            </div>
                        </div>
                    </div>

                    <div class="variation-card">
                        <img src="https://images.unsplash.com/photo-1571388208497-71bedc66e932?auto=format&fit=crop&w=600&q=80" alt="Interval Training">
                        <div class="variation-info">
                            <h4>Interval Training</h4>
                            <p>Alternating periods of high-intensity rowing with recovery periods. Examples include 500m sprints with 1-minute rest or 1-minute hard rowing followed by 1-minute easy rowing.</p>
                            <div class="difficulty-meter">
                                <span class="difficulty-dot active"></span>
                                <span class="difficulty-dot active"></span>
                                <span class="difficulty-dot active"></span>
                                <span class="difficulty-dot"></span>
                                <span class="difficulty-dot"></span>
                            </div>
                        </div>
                    </div>

                    <div class="variation-card">
                        <img src="https://images.unsplash.com/photo-1580086319619-3ed498161c77?auto=format&fit=crop&w=600&q=80" alt="Pyramid Workouts">
                        <div class="variation-info">
                            <h4>Pyramid Workouts</h4>
                            <p>Progressively increasing then decreasing distance or time intervals (e.g., 100m, 200m, 300m, 400m, 300m, 200m, 100m) with short rest periods between each stage.</p>
                            <div class="difficulty-meter">
                                <span class="difficulty-dot active"></span>
                                <span class="difficulty-dot active"></span>
                                <span class="difficulty-dot active"></span>
                                <span class="difficulty-dot active"></span>
                                <span class="difficulty-dot"></span>
                            </div>
                        </div>
                    </div>

                    <div class="variation-card">
                        <img src="Off-Machine.jpg" alt="Rowing with Resistance Training">
                        <div class="variation-info">
                            <h4>Rowing with Resistance Training</h4>
                            <p>Combining rowing intervals with off-machine strength exercises (e.g., 500m row followed by 10 push-ups and 15 bodyweight squats, repeated for multiple rounds).</p>
                            <div class="difficulty-meter">
                                <span class="difficulty-dot active"></span>
                                <span class="difficulty-dot active"></span>
                                <span class="difficulty-dot active"></span>
                                <span class="difficulty-dot active"></span>
                                <span class="difficulty-dot"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Related Exercises -->
            <section class="related-exercises">
                <h2 class="section-heading">Related Exercises</h2>
                <div class="related-cards">
                    <div class="related-card">
                        <img src="Cycling.jpg" alt="Cycling">
                        <div class="related-info">
                            <h4>Cycling</h4>
                            <p>Another low-impact cardio exercise that builds leg strength and cardiovascular endurance.</p>
                            <a href="cycling.html">Learn More <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>

                    <div class="related-card">
                        <img src="Deadlift.jpg" alt="Deadlift">
                        <div class="related-info">
                            <h4>Deadlift</h4>
                            <p>A strength exercise that targets many of the same posterior chain muscles used in rowing.</p>
                            <a href="../exercises/deadlift.html">Learn More <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>

                    <div class="related-card">
                        <img src="https://images.unsplash.com/photo-1560090995-01632a28895b?auto=format&fit=crop&w=600&q=80" alt="Swimming">
                        <div class="related-info">
                            <h4>Swimming</h4>
                            <p>Another full-body, low-impact cardio exercise that complements rowing well.</p>
                            <a href="swimming.html">Learn More <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>

                    <div class="related-card">
                        <img src="Barbell-Row.jpg" alt="Bent Over Row">
                        <div class="related-info">
                            <h4>Bent Over Row</h4>
                            <p>A strength exercise that targets the back muscles used during the rowing stroke.</p>
                            <a href="../exercises/bent-over-row.html">Learn More <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer>
            <p>&copy; 2025 Vivify. All rights reserved.</p>
            <ul class="footer-links">
                <li><a href="../privacy.html" aria-label="Privacy Policy">Privacy Policy</a></li>
                <li><a href="../terms.html" aria-label="Terms of Service">Terms of Service</a></li>
                <li><a href="../contact.html" aria-label="Contact Us">Contact Us</a></li>
            </ul>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Authentication state check
            const isLoggedIn = localStorage.getItem('userLoggedIn') === 'true';
            
            document.getElementById('loginLink').style.display = isLoggedIn ? 'none' : 'inline';
            document.getElementById('signupLink').style.display = isLoggedIn ? 'none' : 'inline';
            document.getElementById('logoutLink').style.display = isLoggedIn ? 'inline' : 'none';
            document.getElementById('profileLink').style.display = isLoggedIn ? 'inline' : 'none';
            
            document.getElementById('logoutLink').addEventListener('click', function(e) {
                e.preventDefault();
                localStorage.removeItem('userLoggedIn');
                window.location.href = '../index.html';
            });
        });
    </script>

<!-- PWA Scripts -->


<script>
// Additional PWA features for each page
document.addEventListener('DOMContentLoaded', function() {
    // Add PWA-specific styles
    if (window.matchMedia('(display-mode: standalone)').matches) {
        document.body.classList.add('pwa-mode');
        
        // Hide address bar on mobile when in PWA mode
        window.scrollTo(0, 1);
    }
    
    // Handle network status
    function updateOnlineStatus() {
        const statusElement = document.getElementById('network-status');
        if (statusElement) {
            if (navigator.onLine) {
                statusElement.textContent = 'Online';
                statusElement.className = 'online';
            } else {
                statusElement.textContent = 'Offline';
                statusElement.className = 'offline';
            }
        }
    }
    
    window.addEventListener('online', updateOnlineStatus);
    window.addEventListener('offline', updateOnlineStatus);
    updateOnlineStatus();
    
    // Add network status indicator if it doesn't exist
    if (!document.getElementById('network-status')) {
        const statusDiv = document.createElement('div');
        statusDiv.id = 'network-status';
        statusDiv.style.cssText = `
            position: fixed;
            top: 10px;
            left: 10px;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            z-index: 1000;
            transition: all 0.3s ease;
        `;
        document.body.appendChild(statusDiv);
        updateOnlineStatus();
    }
});
</script>
<script src="class-management.js"></script> <script src="js/flexible-mobile-nav.js"></script> </body>
</html>