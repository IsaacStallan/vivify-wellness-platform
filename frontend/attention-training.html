<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attention Training - Vivify</title>
    
    <!-- Load fonts first -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Load icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Header - Consistent with other pages */
        header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        nav {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .left-nav {
            display: flex;
            align-items: center;
            gap: 3rem;
        }

        .logo a {
            font-size: 1.8rem;
            font-weight: 900;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
        }

        .left-nav ul, .right-nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .left-nav a, .right-nav a {
            color: #ffffff;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }

        .left-nav a:hover, .right-nav a:hover {
            color: #f39c12;
        }

        .left-nav a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            transition: width 0.3s ease;
        }

        .left-nav a:hover::after {
            width: 100%;
        }

        .cta-nav {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: #000 !important;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .cta-nav:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(243, 156, 18, 0.4);
            color: #000 !important;
        }

        .hidden {
            display: none !important;
        }

        /* Hero Section */
        .attention-hero {
            background: 
                radial-gradient(circle at 20% 20%, rgba(243, 156, 18, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(230, 126, 34, 0.1) 0%, transparent 50%),
                linear-gradient(rgba(10, 10, 10, 0.7), rgba(10, 10, 10, 0.7)),
                url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            padding: 150px 2rem 6rem;
            text-align: center;
            position: relative;
            min-height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hero-content {
            position: relative;
            z-index: 100;
            max-width: 900px;
            margin: 0 auto;
        }

        .attention-badge {
            display: inline-block;
            background: rgba(243, 156, 18, 0.1);
            color: #f39c12;
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            border: 1px solid rgba(243, 156, 18, 0.2);
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 2rem;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .attention-hero h1 {
            font-size: clamp(3rem, 6vw, 5rem);
            font-weight: 900;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #ffffff 0%, #f39c12 50%, #e67e22 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.1;
        }

        .attention-hero p {
            font-size: 1.25rem;
            max-width: 700px;
            margin: 0 auto 2rem;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
        }

        /* Live Focus Stats */
        .focus-stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 2rem 0 3rem;
            flex-wrap: wrap;
        }

        .focus-stat {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(243, 156, 18, 0.3);
            border-radius: 16px;
            padding: 1rem 1.5rem;
            backdrop-filter: blur(10px);
            position: relative;
        }

        .focus-stat::before {
            content: '';
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            width: 8px;
            height: 8px;
            background: #27ae60;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(39, 174, 96, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(39, 174, 96, 0); }
            100% { box-shadow: 0 0 0 0 rgba(39, 174, 96, 0); }
        }

        .focus-stat .stat-number {
            display: block;
            font-size: 1.5rem;
            font-weight: 800;
            color: #f39c12;
        }

        .focus-stat .stat-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn {
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: inline-block;
            font-family: inherit;
            border: none;
            cursor: pointer;
            margin: 0 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: #000;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            border: 2px solid rgba(243, 156, 18, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(243, 156, 18, 0.4);
        }

        /* Interactive Focus Timer */
        .focus-timer-section {
            background: rgba(255, 255, 255, 0.02);
            padding: 6rem 2rem;
        }

        .timer-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 3rem;
            position: relative;
            text-align: center;
        }

        .timer-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            border-radius: 24px 24px 0 0;
        }

        .section-heading {
            font-size: 2.5rem;
            font-weight: 800;
            text-align: center;
            margin-bottom: 3rem;
            background: linear-gradient(135deg, #ffffff, #f39c12);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .timer-modes {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .timer-mode {
            padding: 0.75rem 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .timer-mode.active {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: #000;
            border-color: transparent;
        }

        .timer-display {
            font-size: 4rem;
            font-weight: 900;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 2rem 0;
            font-family: 'Courier New', monospace;
        }

        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .timer-btn {
            padding: 1rem 2rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            color: #ffffff;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .timer-btn.start {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: #000;
        }

        .timer-btn.pause {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: #000;
        }

        .timer-btn.stop {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: #fff;
        }

        .timer-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .session-info {
            background: rgba(243, 156, 18, 0.1);
            border-radius: 16px;
            padding: 1.5rem;
            margin-top: 2rem;
            border: 1px solid rgba(243, 156, 18, 0.2);
        }

        .session-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            text-align: center;
        }

        .session-stat {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1rem;
        }

        .session-stat .value {
            display: block;
            font-size: 1.5rem;
            font-weight: 700;
            color: #f39c12;
        }

        .session-stat .label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
        }

        /* Attention Games */
        .attention-games {
            padding: 6rem 2rem;
        }

        .games-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
        }

        .game-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            overflow: hidden;
            transition: all 0.4s ease;
            position: relative;
            cursor: pointer;
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            transform: scaleX(0);
            transition: transform 0.4s ease;
        }

        .game-card:hover::before {
            transform: scaleX(1);
        }

        .game-card:hover {
            transform: translateY(-15px);
            background: rgba(243, 156, 18, 0.05);
            border-color: rgba(243, 156, 18, 0.2);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }

        .game-icon {
            padding: 3rem 2rem 2rem;
            text-align: center;
        }

        .game-icon i {
            font-size: 3rem;
            color: #f39c12;
            margin-bottom: 1rem;
        }

        .game-card h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0 0 1rem 0;
            color: #ffffff;
            text-align: center;
        }

        .game-description {
            padding: 0 2rem 1rem;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.6;
            text-align: center;
        }

        .game-stats {
            display: flex;
            justify-content: space-around;
            padding: 1rem 2rem;
            background: rgba(255, 255, 255, 0.05);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .game-stat {
            text-align: center;
        }

        .game-stat .number {
            display: block;
            font-weight: 700;
            color: #f39c12;
        }

        .game-stat .label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
        }

        .game-actions {
            padding: 1.5rem 2rem 2rem;
            text-align: center;
        }

        /* Focus Challenge Widget */
        .focus-challenge {
            background: rgba(255, 255, 255, 0.02);
            padding: 6rem 2rem;
        }

        .challenge-widget {
            max-width: 1000px;
            margin: 0 auto;
            background: linear-gradient(135deg, rgba(243, 156, 18, 0.1), rgba(230, 126, 34, 0.1));
            border: 1px solid rgba(243, 156, 18, 0.2);
            border-radius: 24px;
            padding: 3rem 2rem;
            position: relative;
            overflow: hidden;
        }

        .challenge-widget::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            border-radius: 24px 24px 0 0;
        }

        .challenge-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .challenge-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #ffffff;
        }

        .challenge-timer {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 0.5rem 1rem;
            color: #f39c12;
            font-weight: 600;
        }

        .challenge-description {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .challenge-participants {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .participant-stat {
            text-align: center;
        }

        .participant-stat .number {
            display: block;
            font-size: 1.5rem;
            font-weight: 800;
            color: #f39c12;
        }

        .participant-stat .label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
        }

        .challenge-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Focus Streaks */
        .focus-streaks {
            padding: 6rem 2rem;
            background: rgba(255, 255, 255, 0.02);
        }

        .streaks-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .streak-display {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 3rem;
            text-align: center;
            margin-bottom: 3rem;
        }

        .current-streak {
            font-size: 4rem;
            font-weight: 900;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .streak-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }

        .weekly-calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1rem;
            margin-top: 2rem;
        }

        .calendar-day {
            aspect-ratio: 1;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: all 0.3s ease;
        }

        .calendar-day.completed {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: #000;
        }

        .calendar-day.today {
            border: 2px solid #f39c12;
        }

        .day-label {
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .day-minutes {
            font-size: 1.2rem;
            font-weight: 700;
        }

        /* Leaderboard */
        .focus-leaderboard {
            padding: 6rem 2rem;
        }

        .leaderboard-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 3rem;
        }

        .leaderboard-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .leaderboard-filters {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: #000;
            border-color: transparent;
        }

        .leaderboard-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .leaderboard-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            transition: all 0.3s ease;
        }

        .leaderboard-item:hover {
            background: rgba(243, 156, 18, 0.1);
            transform: translateX(10px);
        }

        .rank {
            font-size: 1.5rem;
            font-weight: 800;
            color: #f39c12;
            min-width: 40px;
        }

        .rank.first {
            color: #ffd700;
        }

        .rank.second {
            color: #c0c0c0;
        }

        .rank.third {
            color: #cd7f32;
        }

        .player-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            color: #000;
        }

        .player-info {
            flex-grow: 1;
        }

        .player-name {
            color: #ffffff;
            font-weight: 600;
            margin-bottom: 0.2rem;
        }

        .player-school {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
        }

        .player-stats {
            text-align: right;
        }

        .focus-time {
            color: #f39c12;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .streak-count {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
        }

        /* Footer */
        footer {
            background: #000000;
            padding: 3rem 2rem 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            list-style: none;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.6);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: #f39c12;
        }

        .copyright {
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.9rem;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {

            .attention-hero {
                padding: 120px 1rem 4rem;
            }

            .attention-hero h1 {
                font-size: 2.5rem;
            }

            .focus-stats {
                flex-direction: column;
                align-items: center;
            }

            .timer-display {
                font-size: 3rem;
            }

            .games-grid {
                grid-template-columns: 1fr;
            }

            .timer-controls {
                flex-direction: column;
                align-items: center;
            }

            .weekly-calendar {
                grid-template-columns: repeat(7, 1fr);
                gap: 0.5rem;
            }

            .challenge-actions {
                flex-direction: column;
                align-items: center;
            }

            .challenge-header {
                flex-direction: column;
                text-align: center;
            }

            .footer-links {
                flex-direction: column;
                gap: 1rem;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .slide-in {
            animation: slideIn 0.5s ease-out;
        }

        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }

        .bounce-in {
            animation: bounceIn 0.6s ease-out;
        }

        @keyframes breathing {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .breathing {
            animation: breathing 4s ease-in-out infinite;
        }
    @media (max-width: 768px) {
            /* FORCE hide all desktop navigation */
            nav ul,
            nav li,
            .left-nav ul,
            .right-nav ul,
            .left-nav li,
            .right-nav li,
            .left-nav > ul,
            .right-nav > ul {
                display: none !important;
                visibility: hidden !important;
            }
            
            /* Ensure nav container works properly */
            nav {
                display: flex !important;
                justify-content: space-between !important;
                align-items: center !important;
                padding: 1rem !important;
                flex-wrap: nowrap !important;
            }
            
            /* Keep logo visible */
            .logo,
            .logo a {
                display: block !important;
                visibility: visible !important;
                font-size: 1.5rem !important;
                white-space: nowrap !important;
            }
            
            /* Force show mobile button if it exists */
            .mobile-menu-btn {
                display: flex !important;
                visibility: visible !important;
                flex-direction: column;
                background: none;
                border: none;
                cursor: pointer;
                padding: 0.5rem;
                z-index: 1001;
            }
            
            /* Mobile button styles */
            .mobile-menu-btn .hamburger {
                width: 25px;
                height: 3px;
                background: #ffffff;
                margin: 3px 0;
                transition: 0.3s;
                border-radius: 2px;
            }
            
            /* Ensure right-nav container shows mobile button */
            .right-nav {
                display: flex !important;
                align-items: center !important;
                visibility: visible !important;
            }
        }

        /* If no mobile button exists, add this emergency button */
        @media (max-width: 768px) {
            nav:not(:has(.mobile-menu-btn))::after {
                content: "☰";
                position: absolute;
                right: 1rem;
                top: 50%;
                transform: translateY(-50%);
                color: white;
                font-size: 1.5rem;
                cursor: pointer;
            }
        }
    </style>
<script src="js/vivify-stats.js"></script>
<script src="js/leaderboard-system.js"></script>
</head>
<body>
    <header>
        <nav>
            <div class="left-nav">
                <div class="logo">
                    <a href="index.html">Vivify</a>
                </div>
                <ul>
                    <li><a href="index.html#training">Training Areas</a></li>
                    <li><a href="index.html#habits">Habits & Challenges</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>
            </div>
            <div class="right-nav">
                <ul>
                    <li><a href="login.html" id="login-link">Login</a></li>
                    <li><a href="signup.html" class="cta-nav" id="signup-link">Start Training</a></li>
                    <!-- Logged in navigation -->
                    <li><a href="dashboard.html" id="dashboard-link" class="hidden">Dashboard</a></li>
                    <li><a href="profile.html" id="profile-link" class="hidden">Profile</a></li>
                    <li><a href="#" id="logout-link" class="hidden">Logout</a></li>
                </ul>
            </div>
        </nav>
    </header>
 
    <div class="wrapper">
        <!-- Hero Section with Live Focus Stats -->
        <section class="attention-hero fade-in-up">
            <div class="hero-content">
                <div class="attention-badge">🧠 Elite Focus Training</div>
                <h1>Master Your Attention</h1>
                <p>Join 892 students building laser-sharp focus through gamified attention training, mindfulness challenges, and cognitive performance tracking.</p>
                
                <div class="focus-stats">
                    <div class="focus-stat">
                        <span class="stat-number" id="live-focusers">892</span>
                        <span class="stat-label">Students Focusing</span>
                    </div>
                    <div class="focus-stat">
                        <span class="stat-number" id="active-sessions">47</span>
                        <span class="stat-label">Active Sessions</span>
                    </div>
                    <div class="focus-stat">
                        <span class="stat-number" id="minutes-today">2,847</span>
                        <span class="stat-label">Minutes Today</span>
                    </div>
                </div>
 
                <div class="hero-buttons">
                    <a href="#focus-timer" class="btn btn-primary">Start Focus Session</a>
                    <a href="#challenge" class="btn btn-secondary">Join Daily Challenge</a>
                </div>
            </div>
        </section>
 
        <!-- Interactive Focus Timer -->
        <section class="focus-timer-section fade-in-up">
            <div class="timer-container" id="focus-timer">
                <h2 class="section-heading">🎯 Focus Timer</h2>
                <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 2rem;">Choose your focus technique and build your concentration streak. Track your progress and compete with peers!</p>
                
                <div class="timer-modes">
                    <div class="timer-mode active" onclick="selectMode('pomodoro')" data-mode="pomodoro">
                        🍅 Pomodoro (25 min)
                    </div>
                    <div class="timer-mode" onclick="selectMode('deep')" data-mode="deep">
                        🎯 Deep Focus (50 min)
                    </div>
                    <div class="timer-mode" onclick="selectMode('sprint')" data-mode="sprint">
                        ⚡ Sprint (15 min)
                    </div>
                    <div class="timer-mode" onclick="selectMode('custom')" data-mode="custom">
                        ⚙️ Custom
                    </div>
                </div>
 
                <div class="timer-display" id="timer-display">25:00</div>
                
                <div class="timer-controls">
                    <button class="timer-btn start" id="start-btn" onclick="startTimer()">
                        <i class="fas fa-play"></i> Start Focus
                    </button>
                    <button class="timer-btn pause" id="pause-btn" onclick="pauseTimer()" style="display: none;">
                        <i class="fas fa-pause"></i> Pause
                    </button>
                    <button class="timer-btn stop" id="stop-btn" onclick="stopTimer()" style="display: none;">
                        <i class="fas fa-stop"></i> Stop
                    </button>
                </div>
 
                <div class="session-info">
                    <h4 style="color: #f39c12; margin-bottom: 1rem; text-align: center;">Today's Focus Progress</h4>
                    <div class="session-stats">
                        <div class="session-stat">
                            <span class="value" id="sessions-today">0</span>
                            <span class="label">Sessions</span>
                        </div>
                        <div class="session-stat">
                            <span class="value" id="total-minutes">0</span>
                            <span class="label">Minutes</span>
                        </div>
                        <div class="session-stat">
                            <span class="value" id="current-streak">7</span>
                            <span class="label">Day Streak</span>
                        </div>
                        <div class="session-stat">
                            <span class="value" id="focus-score">0</span>
                            <span class="label">Focus Score</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
 
        <!-- Attention Training Games -->
        <section class="attention-games fade-in-up">
            <div class="games-container">
                <h2 class="section-heading">🎮 Attention Training Games</h2>
                <p style="text-align: center; color: rgba(255, 255, 255, 0.8); margin-bottom: 2rem;">Level up your cognitive abilities with scientifically-backed brain training games. Track your progress and compete on leaderboards!</p>
                
                <div class="games-grid">
                    <div class="game-card" onclick="startGame('stroop')">
                        <div class="game-icon">
                            <i class="fas fa-palette"></i>
                        </div>
                        <h3>Stroop Challenge</h3>
                        <div class="game-description">
                            Test your cognitive flexibility by naming colors while ignoring word meanings. Builds selective attention and mental agility.
                        </div>
                        <div class="game-stats">
                            <div class="game-stat">
                                <span class="number">847</span>
                                <span class="label">Players</span>
                            </div>
                            <div class="game-stat">
                                <span class="number">92%</span>
                                <span class="label">Accuracy</span>
                            </div>
                            <div class="game-stat">
                                <span class="number">2.3s</span>
                                <span class="label">Avg Time</span>
                            </div>
                        </div>
                        <div class="game-actions">
                            <button class="btn btn-primary">Play Now</button>
                        </div>
                    </div>
 
                    <div class="game-card" onclick="startGame('nback')">
                        <div class="game-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <h3>N-Back Memory</h3>
                        <div class="game-description">
                            Train working memory by identifying when current stimulus matches one from N steps back. Scientifically proven to boost IQ.
                        </div>
                        <div class="game-stats">
                            <div class="game-stat">
                                <span class="number">623</span>
                                <span class="label">Players</span>
                            </div>
                            <div class="game-stat">
                                <span class="number">Level 3</span>
                                <span class="label">Avg Level</span>
                            </div>
                            <div class="game-stat">
                                <span class="number">89%</span>
                                <span class="label">Accuracy</span>
                            </div>
                        </div>
                        <div class="game-actions">
                            <button class="btn btn-primary">Train Memory</button>
                        </div>
                    </div>
 
                    <div class="game-card" onclick="startGame('attention')">
                        <div class="game-icon">
                            <i class="fas fa-crosshairs"></i>
                        </div>
                        <h3>Attention Network</h3>
                        <div class="game-description">
                            Measure and train your alerting, orienting, and executive attention networks. Track improvement over time.
                        </div>
                        <div class="game-stats">
                            <div class="game-stat">
                                <span class="number">456</span>
                                <span class="label">Players</span>
                            </div>
                            <div class="game-stat">
                                <span class="number">1.8s</span>
                                <span class="label">Reaction Time</span>
                            </div>
                            <div class="game-stat">
                                <span class="number">94%</span>
                                <span class="label">Accuracy</span>
                            </div>
                        </div>
                        <div class="game-actions">
                            <button class="btn btn-primary">Test Attention</button>
                        </div>
                    </div>
 
                    <div class="game-card" onclick="startGame('mindfulness')">
                        <div class="game-icon">
                            <i class="fas fa-leaf"></i>
                        </div>
                        <h3>Mindful Breathing</h3>
                        <div class="game-description">
                            Interactive breathing exercises with biofeedback. Build mindfulness and emotional regulation skills through guided practice.
                        </div>
                        <div class="game-stats">
                            <div class="game-stat">
                                <span class="number">1,234</span>
                                <span class="label">Sessions</span>
                            </div>
                            <div class="game-stat">
                                <span class="number">4.2</span>
                                <span class="label">Avg BPM</span>
                            </div>
                            <div class="game-stat">
                                <span class="number">12min</span>
                                <span class="label">Avg Session</span>
                            </div>
                        </div>
                        <div class="game-actions">
                            <button class="btn btn-primary">Start Breathing</button>
                        </div>
                    </div>
 
                    <div class="game-card" onclick="startGame('flanker')">
                        <div class="game-icon">
                            <i class="fas fa-arrows-alt-h"></i>
                        </div>
                        <h3>Flanker Task</h3>
                        <div class="game-description">
                            Train selective attention and cognitive control by responding to central arrows while ignoring distractors.
                        </div>
                        <div class="game-stats">
                            <div class="game-stat">
                                <span class="number">567</span>
                                <span class="label">Players</span>
                            </div>
                            <div class="game-stat">
                                <span class="number">1.4s</span>
                                <span class="label">Reaction Time</span>
                            </div>
                            <div class="game-stat">
                                <span class="number">91%</span>
                                <span class="label">Accuracy</span>
                            </div>
                        </div>
                        <div class="game-actions">
                            <button class="btn btn-primary">Train Focus</button>
                        </div>
                    </div>
 
                    <div class="game-card" onclick="startGame('dualtask')">
                        <div class="game-icon">
                            <i class="fas fa-layer-group"></i>
                        </div>
                        <h3>Dual Task Challenge</h3>
                        <div class="game-description">
                            Master multitasking by performing two cognitive tasks simultaneously. Build cognitive flexibility and task-switching skills.
                        </div>
                        <div class="game-stats">
                            <div class="game-stat">
                                <span class="number">389</span>
                                <span class="label">Players</span>
                            </div>
                            <div class="game-stat">
                                <span class="number">78%</span>
                                <span class="label">Dual Accuracy</span>
                            </div>
                            <div class="game-stat">
                                <span class="number">Level 4</span>
                                <span class="label">Avg Level</span>
                            </div>
                        </div>
                        <div class="game-actions">
                            <button class="btn btn-primary">Multi-Task</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
 
        <!-- Daily Focus Challenge -->
        <section class="focus-challenge fade-in-up">
            <div class="challenge-widget" id="challenge">
                <div class="challenge-header">
                    <h3 class="challenge-title">🧠 Deep Focus Challenge</h3>
                    <div class="challenge-timer" id="challenge-timer">Ends in 11:23:47</div>
                </div>
                
                <p class="challenge-description">Complete 2 hours of focused study time today and join 567 students building elite concentration! Use any focus technique - timer, games, or study sessions. Track your progress and climb the leaderboard!</p>
                
                <div class="challenge-participants">
                    <div class="participant-stat">
                        <span class="number" id="challenge-completed">278</span>
                        <span class="label">Completed</span>
                    </div>
                    <div class="participant-stat">
                        <span class="number" id="challenge-average">87min</span>
                        <span class="label">Avg Progress</span>
                    </div>
                    <div class="participant-stat">
                        <span class="number" id="your-focus-rank">#23</span>
                        <span class="label">Your Rank</span>
                    </div>
                </div>
                
                <div class="challenge-actions">
                    <button class="btn btn-primary" onclick="acceptFocusChallenge()">Accept Challenge</button>
                    <button class="btn btn-secondary" onclick="viewFocusLeaderboard()">View Leaderboard</button>
                    <button class="btn btn-secondary" onclick="shareProgress()">Share Progress</button>
                </div>
 
                <div class="challenge-progress" id="focus-challenge-progress" style="display: none;">
                    <div style="margin-top: 2rem;">
                        <div class="progress-bar" style="width: 100%; height: 12px; background: rgba(255,255,255,0.1); border-radius: 6px; overflow: hidden; margin-bottom: 1rem;">
                            <div class="progress-fill" id="focus-progress-fill" style="height: 100%; background: linear-gradient(135deg, #f39c12, #e67e22); border-radius: 6px; transition: width 0.5s ease; width: 0%;"></div>
                        </div>
                        <div class="progress-text" id="focus-progress-text" style="text-align: center; color: rgba(255,255,255,0.8); font-size: 0.9rem;">0/120 minutes completed</div>
                        <div style="text-align: center; margin-top: 1rem;">
                            <button class="btn btn-primary" onclick="logFocusTime()">+ Log Focus Time</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
 
        <!-- Focus Streak Calendar -->
        <section class="focus-streaks fade-in-up">
            <div class="streaks-container">
                <h2 class="section-heading">🔥 Focus Streak</h2>
                
                <div class="streak-display">
                    <div class="current-streak" id="display-streak">7</div>
                    <div class="streak-label">Day Focus Streak</div>
                    <p style="color: rgba(255, 255, 255, 0.6); margin-top: 1rem;">Keep it going! You're building elite focus habits that compound daily.</p>
                    
                    <div class="weekly-calendar">
                        <div class="calendar-day completed">
                            <div class="day-label">Mon</div>
                            <div class="day-minutes">45</div>
                        </div>
                        <div class="calendar-day completed">
                            <div class="day-label">Tue</div>
                            <div class="day-minutes">67</div>
                        </div>
                        <div class="calendar-day completed">
                            <div class="day-label">Wed</div>
                            <div class="day-minutes">52</div>
                        </div>
                        <div class="calendar-day completed">
                            <div class="day-label">Thu</div>
                            <div class="day-minutes">78</div>
                        </div>
                        <div class="calendar-day completed">
                            <div class="day-label">Fri</div>
                            <div class="day-minutes">43</div>
                        </div>
                        <div class="calendar-day completed">
                            <div class="day-label">Sat</div>
                            <div class="day-minutes">89</div>
                        </div>
                        <div class="calendar-day today">
                            <div class="day-label">Sun</div>
                            <div class="day-minutes" id="today-minutes">0</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
 
        <!-- Focus Leaderboard -->
        <section class="focus-leaderboard fade-in-up">
            <div class="leaderboard-container">
                <div class="leaderboard-header">
                    <h2 class="section-heading">🏆 Focus Masters</h2>
                    <p style="color: rgba(255, 255, 255, 0.8);">Top focus performers this week - see where your concentration ranks!</p>
                </div>
                
                <div class="leaderboard-filters">
                    <div class="filter-btn active" onclick="filterFocusLeaderboard('week')">This Week</div>
                    <div class="filter-btn" onclick="filterFocusLeaderboard('month')">This Month</div>
                    <div class="filter-btn" onclick="filterFocusLeaderboard('friends')">Friends</div>
                    <div class="filter-btn" onclick="filterFocusLeaderboard('school')">My School</div>
                </div>
 
                <div class="leaderboard-list" id="focus-leaderboard-list">
                    <div class="leaderboard-item">
                        <div class="rank first">1</div>
                        <div class="player-avatar">SK</div>
                        <div class="player-info">
                            <div class="player-name">Sarah K.</div>
                            <div class="player-school">Melbourne Grammar</div>
                        </div>
                        <div class="player-stats">
                            <div class="focus-time">847 min 🧠</div>
                            <div class="streak-count">42 day streak</div>
                        </div>
                    </div>
                    
                    <div class="leaderboard-item">
                        <div class="rank second">2</div>
                        <div class="player-avatar">DL</div>
                        <div class="player-info">
                            <div class="player-name">David L.</div>
                            <div class="player-school">Sydney Boys High</div>
                        </div>
                        <div class="player-stats">
                            <div class="focus-time">789 min 🧠</div>
                            <div class="streak-count">38 day streak</div>
                        </div>
                    </div>
                    
                    <div class="leaderboard-item">
                        <div class="rank third">3</div>
                        <div class="player-avatar">EM</div>
                        <div class="player-info">
                            <div class="player-name">Emma M.</div>
                            <div class="player-school">Perth Modern</div>
                        </div>
                        <div class="player-stats">
                            <div class="focus-time">723 min 🧠</div>
                            <div class="streak-count">35 day streak</div>
                        </div>
                    </div>
                    
                    <div class="leaderboard-item" style="border: 2px solid #f39c12;">
                        <div class="rank">23</div>
                        <div class="player-avatar">YOU</div>
                        <div class="player-info">
                            <div class="player-name">You</div>
                            <div class="player-school">Knox Grammar</div>
                        </div>
                        <div class="player-stats">
                            <div class="focus-time">287 min 🧠</div>
                            <div class="streak-count">7 day streak</div>
                        </div>
                    </div>
                    
                    <div class="leaderboard-item">
                        <div class="rank">24</div>
                        <div class="player-avatar">JR</div>
                        <div class="player-info">
                            <div class="player-name">Jake R.</div>
                            <div class="player-school">Brisbane Grammar</div>
                        </div>
                        <div class="player-stats">
                            <div class="focus-time">276 min 🧠</div>
                            <div class="streak-count">12 day streak</div>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 2rem;">
                    <button class="btn btn-primary">View Full Rankings</button>
                    <button class="btn btn-secondary">Share Achievement</button>
                </div>
            </div>
        </section>
 
        <!-- Footer -->
        <footer>
            <div class="footer-content">
                <ul class="footer-links">
                    <li><a href="privacy.html">Privacy Policy</a></li>
                    <li><a href="terms.html">Terms of Service</a></li>
                    <li><a href="contact.html">Contact Us</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>
                <p class="copyright">&copy; 2025 Vivify. Building elite habits, one day at a time.</p>
            </div>
        </footer>
    </div>
 
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check authentication status
            const isLoggedIn = localStorage.getItem('authToken') || localStorage.getItem('userLoggedIn') === 'true';
            
            // Update UI based on login status
            updateAuthState(isLoggedIn);
            
            // Initialize focus stats
            updateFocusStats();
            
            // Start challenge timer
            startFocusChallenge();
            
            // Load user progress
            loadFocusProgress();
            
            // Add scroll animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);
            
            // Observe all fade-in elements
            document.querySelectorAll('.fade-in-up').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(30px)';
                el.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
                observer.observe(el);
            });
            
            function updateAuthState(isLoggedIn) {
                // Navigation updates
                document.getElementById('login-link').style.display = isLoggedIn ? 'none' : 'block';
                document.getElementById('signup-link').style.display = isLoggedIn ? 'none' : 'block';
                document.getElementById('dashboard-link').classList.toggle('hidden', !isLoggedIn);
                document.getElementById('profile-link').classList.toggle('hidden', !isLoggedIn);
                document.getElementById('logout-link').classList.toggle('hidden', !isLoggedIn);
            }
            
            // Logout functionality
            const logoutLink = document.getElementById('logout-link');
            if (logoutLink) {
                logoutLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    localStorage.clear();
                    updateAuthState(false);
                    window.location.href = 'index.html';
                });
            }
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                           behavior: 'smooth',
                           block: 'start'
                       });
                   }
               });
           });
           
           // Header background on scroll
           window.addEventListener('scroll', function() {
               const header = document.querySelector('header');
               if (window.scrollY > 100) {
                   header.style.background = 'rgba(10, 10, 10, 0.98)';
               } else {
                   header.style.background = 'rgba(10, 10, 10, 0.95)';
               }
           });
       });
 
        // Focus Stats Simulation
        function updateFocusStats() {
            const baseStats = {
                focusers: 892,
                activeSessions: 47,
                minutesToday: 2847,
                challengeCompleted: 278,
                challengeAverage: 87
            };
            
            setInterval(() => {
                // Simulate live updates
                const variation = () => Math.floor(Math.random() * 8) - 4;
                
                document.getElementById('live-focusers').textContent = baseStats.focusers + variation();
                document.getElementById('active-sessions').textContent = Math.max(0, baseStats.activeSessions + variation());
                document.getElementById('minutes-today').textContent = baseStats.minutesToday + Math.abs(variation() * 10);
                document.getElementById('challenge-completed').textContent = baseStats.challengeCompleted + Math.abs(variation());
            }, 20000); // Update every 20 seconds
        }
 
        // Focus Timer Functions
        let timerInterval;
        let currentMode = 'pomodoro';
        let timeRemaining = 25 * 60; // 25 minutes in seconds
        let isTimerRunning = false;
        let sessionTime = 0;
 
        const timeModes = {
            pomodoro: 25 * 60,
            deep: 50 * 60,
            sprint: 15 * 60,
            custom: 25 * 60
        };
 
        function selectMode(mode) {
            if (isTimerRunning) return;
            
            currentMode = mode;
            timeRemaining = timeModes[mode];
            
            // Update UI
            document.querySelectorAll('.timer-mode').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-mode="${mode}"]`).classList.add('active');
            
            updateTimerDisplay();
            
            if (mode === 'custom') {
                const customTime = prompt('Enter focus time in minutes:', '25');
                if (customTime && !isNaN(customTime)) {
                    timeRemaining = parseInt(customTime) * 60;
                    timeModes.custom = timeRemaining;
                    updateTimerDisplay();
                }
            }
        }
 
        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timer-display').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
 
        function startTimer() {
            if (isTimerRunning) return;
            
            isTimerRunning = true;
            sessionTime = timeRemaining;
            
            // Update UI
            document.getElementById('start-btn').style.display = 'none';
            document.getElementById('pause-btn').style.display = 'inline-block';
            document.getElementById('stop-btn').style.display = 'inline-block';
            
            // Add breathing animation to timer
            document.getElementById('timer-display').classList.add('breathing');
            
            timerInterval = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    completeSession();
                }
            }, 1000);
        }
 
        function pauseTimer() {
            if (!isTimerRunning) return;
            
            isTimerRunning = false;
            clearInterval(timerInterval);
            
            // Update UI
            document.getElementById('start-btn').style.display = 'inline-block';
            document.getElementById('start-btn').innerHTML = '<i class="fas fa-play"></i> Resume';
            document.getElementById('pause-btn').style.display = 'none';
            
            // Remove breathing animation
            document.getElementById('timer-display').classList.remove('breathing');
        }
 
        function stopTimer() {
            isTimerRunning = false;
            clearInterval(timerInterval);
            
            // Reset timer
            timeRemaining = timeModes[currentMode];
            updateTimerDisplay();
            
            // Update UI
            document.getElementById('start-btn').style.display = 'inline-block';
            document.getElementById('start-btn').innerHTML = '<i class="fas fa-play"></i> Start Focus';
            document.getElementById('pause-btn').style.display = 'none';
            document.getElementById('stop-btn').style.display = 'none';
            
            // Remove breathing animation
            document.getElementById('timer-display').classList.remove('breathing');
        }
 
        function completeSession() {
            isTimerRunning = false;
            clearInterval(timerInterval);
            
            const completedMinutes = Math.floor(sessionTime / 60);
            
            // Update stats
            const sessionsEl = document.getElementById('sessions-today');
            const minutesEl = document.getElementById('total-minutes');
            const scoreEl = document.getElementById('focus-score');
            const todayMinutesEl = document.getElementById('today-minutes');
            
            sessionsEl.textContent = parseInt(sessionsEl.textContent) + 1;
            minutesEl.textContent = parseInt(minutesEl.textContent) + completedMinutes;
            scoreEl.textContent = parseInt(scoreEl.textContent) + completedMinutes * 2;
            todayMinutesEl.textContent = completedMinutes;
            
            // Celebration
            alert(`🎉 Focus Session Complete! 🎉\n\n${completedMinutes} minutes of deep focus\n+${completedMinutes * 2} focus points earned\nStreak maintained! 🔥`);
            
            // Update calendar
            document.querySelector('.calendar-day.today').classList.add('completed');
            
            // Save progress
            saveFocusProgress();
            
            // Reset timer UI
            stopTimer();
        }
 
        // Challenge Timer
        let challengeTimeRemaining = 11 * 3600 + 23 * 60 + 47; // 11:23:47 in seconds
 
        function startFocusChallenge() {
            const timer = document.getElementById('challenge-timer');
            
            setInterval(() => {
                challengeTimeRemaining--;
                const hours = Math.floor(challengeTimeRemaining / 3600);
                const minutes = Math.floor((challengeTimeRemaining % 3600) / 60);
                const seconds = challengeTimeRemaining % 60;
                
                timer.textContent = `Ends in ${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
               
               if (challengeTimeRemaining <= 0) {
                   timer.textContent = 'Challenge Ended';
               }
           }, 1000);
       }

       // Challenge Functions
       let userFocusMinutes = 0;
       let focusChallengeAccepted = false;

       function acceptFocusChallenge() {
           focusChallengeAccepted = true;
           document.getElementById('focus-challenge-progress').style.display = 'block';
           document.querySelector('.challenge-widget').scrollIntoView({ behavior: 'smooth', block: 'center' });
           
           // Update button text
           event.target.textContent = 'Challenge Accepted! 🧠';
           event.target.style.background = 'rgba(39, 174, 96, 0.8)';
       }

       function logFocusTime() {
           if (!focusChallengeAccepted) {
               alert('Accept the challenge first!');
               return;
           }
           
           const increment = parseInt(prompt('How many minutes did you just focus?')) || 0;
           if (increment > 0) {
               userFocusMinutes = Math.min(userFocusMinutes + increment, 120);
               
               const progressFill = document.getElementById('focus-progress-fill');
               const progressText = document.getElementById('focus-progress-text');
               
               const percentage = (userFocusMinutes / 120) * 100;
               progressFill.style.width = percentage + '%';
               progressText.textContent = `${userFocusMinutes}/120 minutes completed`;
               
               if (userFocusMinutes >= 120) {
                   progressText.innerHTML = `🧠 Focus Challenge Complete! Elite concentration! 🧠<br><small>+120 Focus Points earned • Streak maintained</small>`;
                   progressFill.style.background = 'linear-gradient(135deg, #27ae60, #2ecc71)';
                   
                   // Celebration animation
                   document.querySelector('.challenge-widget').classList.add('bounce-in');
                   setTimeout(() => {
                       document.querySelector('.challenge-widget').classList.remove('bounce-in');
                   }, 600);
               }
               
               // Save progress
               localStorage.setItem('todayFocusMinutes', userFocusMinutes);
           }
       }

       function viewFocusLeaderboard() {
           document.querySelector('.focus-leaderboard').scrollIntoView({ behavior: 'smooth' });
       }

       function shareProgress() {
           const shareText = `Just completed ${userFocusMinutes} minutes of focused training on Vivify! 🧠 Building elite concentration habits. Join me: ${window.location.origin}`;
           
           if (navigator.share) {
               navigator.share({
                   title: 'Focus Progress Update!',
                   text: shareText,
                   url: window.location.origin
               });
           } else {
               navigator.clipboard.writeText(shareText).then(() => {
                   alert('Progress update copied to clipboard! Share your focus journey 🧠');
               });
           }
       }

       // Game Functions
       function startGame(gameType) {
           const gameNames = {
               'stroop': 'Stroop Challenge',
               'nback': 'N-Back Memory Training',
               'attention': 'Attention Network Test',
               'mindfulness': 'Mindful Breathing Exercise',
               'flanker': 'Flanker Task Training',
               'dualtask': 'Dual Task Challenge'
           };
           
           alert(`Starting ${gameNames[gameType]}! 🎮\n\nThis would launch the interactive brain training game. Track your progress and compete with other students!`);
           
           // In a real app, this would navigate to the game
           // For demo, we'll simulate game completion
           setTimeout(() => {
               completeGame(gameType);
           }, 3000);
       }

       function completeGame(gameType) {
           const points = Math.floor(Math.random() * 50) + 25; // 25-75 points
           const accuracy = Math.floor(Math.random() * 20) + 80; // 80-100% accuracy
           
           const completionMessage = `🎮 Game Complete! 🎮\n\n` +
               `${accuracy}% accuracy achieved\n` +
               `+${points} brain training points\n` +
               `Cognitive skills improved! 🧠\n\n` +
               `Share your achievement?`;
               
           if (confirm(completionMessage)) {
               shareGameAchievement(gameType, accuracy, points);
           }
           
           // Update focus score
           const scoreEl = document.getElementById('focus-score');
           scoreEl.textContent = parseInt(scoreEl.textContent) + points;
       }

       function shareGameAchievement(gameType, accuracy, points) {
           const shareText = `Just scored ${accuracy}% accuracy in ${gameType} brain training on Vivify! 🧠 +${points} points earned. Building elite cognitive skills: ${window.location.origin}`;
           
           if (navigator.share) {
               navigator.share({
                   title: 'Brain Training Achievement!',
                   text: shareText,
                   url: window.location.origin
               });
           } else {
               navigator.clipboard.writeText(shareText).then(() => {
                   alert('Achievement copied to clipboard! Share your brain gains 🧠');
               });
           }
       }

       // Leaderboard Functions
       function filterFocusLeaderboard(filter) {
           // Update filter buttons
           document.querySelectorAll('.filter-btn').forEach(btn => {
               btn.classList.remove('active');
           });
           event.target.classList.add('active');
           
           const list = document.getElementById('focus-leaderboard-list');
           list.style.opacity = '0.5';
           list.style.transform = 'translateX(-20px)';
           
           setTimeout(() => {
               list.style.opacity = '1';
               list.style.transform = 'translateX(0)';
               
               // Simulate different data for different filters
               if (filter === 'friends') {
                   list.innerHTML = `
                       <div class="leaderboard-item" style="border: 2px solid #f39c12;">
                           <div class="rank first">1</div>
                           <div class="player-avatar">YOU</div>
                           <div class="player-info">
                               <div class="player-name">You</div>
                               <div class="player-school">Knox Grammar</div>
                           </div>
                           <div class="player-stats">
                               <div class="focus-time">287 min 🧠</div>
                               <div class="streak-count">7 day streak</div>
                           </div>
                       </div>
                       <div class="leaderboard-item">
                           <div class="rank second">2</div>
                           <div class="player-avatar">AL</div>
                           <div class="player-info">
                               <div class="player-name">Alex L.</div>
                               <div class="player-school">Knox Grammar</div>
                           </div>
                           <div class="player-stats">
                               <div class="focus-time">245 min 🧠</div>
                               <div class="streak-count">5 day streak</div>
                           </div>
                       </div>
                       <div style="text-align: center; padding: 2rem; color: rgba(255,255,255,0.6);">
                           <p>Invite more friends to see them here!</p>
                           <button class="btn btn-secondary" onclick="inviteFocusFriends()" style="margin-top: 1rem;">Invite Friends</button>
                       </div>
                   `;
               } else if (filter === 'school') {
                   list.innerHTML = `
                       <div class="leaderboard-item" style="border: 2px solid #f39c12;">
                           <div class="rank first">1</div>
                           <div class="player-avatar">YOU</div>
                           <div class="player-info">
                               <div class="player-name">You</div>
                               <div class="player-school">Knox Grammar</div>
                           </div>
                           <div class="player-stats">
                               <div class="focus-time">287 min 🧠</div>
                               <div class="streak-count">7 day streak</div>
                           </div>
                       </div>
                       <div class="leaderboard-item">
                           <div class="rank second">2</div>
                           <div class="player-avatar">AL</div>
                           <div class="player-info">
                               <div class="player-name">Alex L.</div>
                               <div class="player-school">Knox Grammar</div>
                           </div>
                           <div class="player-stats">
                               <div class="focus-time">245 min 🧠</div>
                               <div class="streak-count">5 day streak</div>
                           </div>
                       </div>
                       <div class="leaderboard-item">
                           <div class="rank third">3</div>
                           <div class="player-avatar">MK</div>
                           <div class="player-info">
                               <div class="player-name">Maya K.</div>
                               <div class="player-school">Knox Grammar</div>
                           </div>
                           <div class="player-stats">
                               <div class="focus-time">198 min 🧠</div>
                               <div class="streak-count">3 day streak</div>
                           </div>
                       </div>
                       <div style="text-align: center; padding: 2rem; color: rgba(255,255,255,0.6);">
                           <p>🧠 You're leading your school's focus training! Keep it up!</p>
                       </div>
                   `;
               }
           }, 300);
       }

       function inviteFocusFriends() {
           const shareText = `I'm building elite focus skills on Vivify! Join me and 892+ students training attention and concentration. Let's level up our minds together: ${window.location.origin}`;
           
           if (navigator.share) {
               navigator.share({
                   title: 'Join me in focus training!',
                   text: shareText,
                   url: window.location.origin
               });
           } else {
               navigator.clipboard.writeText(shareText).then(() => {
                   alert('Invite link copied! Share with friends to boost focus together 🧠');
               });
           }
       }

       // Progress Saving and Loading
       function saveFocusProgress() {
           const progress = {
               sessionsToday: document.getElementById('sessions-today').textContent,
               totalMinutes: document.getElementById('total-minutes').textContent,
               focusScore: document.getElementById('focus-score').textContent,
               currentStreak: document.getElementById('current-streak').textContent,
               challengeMinutes: userFocusMinutes,
               lastSaved: Date.now()
           };
           
           localStorage.setItem('focusProgress', JSON.stringify(progress));
       }

       function loadFocusProgress() {
           const saved = localStorage.getItem('focusProgress');
           if (saved) {
               const progress = JSON.parse(saved);
               
               // Check if it's the same day
               const today = new Date().toDateString();
               const savedDate = new Date(progress.lastSaved).toDateString();
               
               if (today === savedDate) {
                   document.getElementById('sessions-today').textContent = progress.sessionsToday || '0';
                   document.getElementById('total-minutes').textContent = progress.totalMinutes || '0';
                   document.getElementById('focus-score').textContent = progress.focusScore || '0';
                   document.getElementById('today-minutes').textContent = progress.totalMinutes || '0';
                   
                   // Load challenge progress
                   const savedChallengeMinutes = localStorage.getItem('todayFocusMinutes');
                   if (savedChallengeMinutes) {
                       userFocusMinutes = parseInt(savedChallengeMinutes);
                       if (userFocusMinutes > 0) {
                           focusChallengeAccepted = true;
                           document.getElementById('focus-challenge-progress').style.display = 'block';
                           
                           const progressFill = document.getElementById('focus-progress-fill');
                           const progressText = document.getElementById('focus-progress-text');
                           
                           const percentage = (userFocusMinutes / 120) * 100;
                           progressFill.style.width = percentage + '%';
                           progressText.textContent = `${userFocusMinutes}/120 minutes completed`;
                           
                           if (userFocusMinutes >= 120) {
                               progressText.innerHTML = `🧠 Focus Challenge Complete! Elite concentration! 🧠<br><small>+120 Focus Points earned • Streak maintained</small>`;
                               progressFill.style.background = 'linear-gradient(135deg, #27ae60, #2ecc71)';
                           }
                       }
                   }
               }
           }
           
           // Update calendar with today's minutes
           const todayMinutes = document.getElementById('total-minutes').textContent;
           if (parseInt(todayMinutes) > 0) {
               document.getElementById('today-minutes').textContent = todayMinutes;
               document.querySelector('.calendar-day.today').classList.add('completed');
           }
       }

       // Auto-save progress every 30 seconds
       setInterval(saveFocusProgress, 30000);
  </script>
<script src="js/flexible-mobile-nav.js"></script> </body>
</html>