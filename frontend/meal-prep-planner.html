<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Prep Planner - Vivify</title>
    
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Add Font Awesome for icons -->
    
    <style>
        /* Footer styles to ensure it stays at bottom */
        footer {
            background-color: #000;
            color: white;
            text-align: center;
            padding: 2rem 0;
            width: 100%;
            margin-top: auto;
            border-top: 1px solid #333;
        }

        footer .footer-links {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 1rem 0 0 0;
            padding: 0;
        }

        footer .footer-links a {
            color: #a0a0a0;
            text-decoration: none;
            transition: color 0.3s;
        }

        footer .footer-links a:hover {
            color: #f39c12;
        }
        
        /* Planner Specific Styles */
        .planner-hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('https://images.unsplash.com/photo-1506784365847-bbad939e9348?auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 4rem 2rem;
            text-align: center;
        }

        .planner-hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .planner-hero p {
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto 1rem;
        }

        .planner-container {
            max-width: 1000px;
            margin: 3rem auto;
            padding: 0 1.5rem;
        }

        .planner-section {
            margin-bottom: 2rem;
        }

        .planner-section h2 {
            color: #f39c12;
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .steps-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            position: relative;
        }

        .steps-container::before {
            content: '';
            position: absolute;
            top: 24px;
            left: 0;
            right: 0;
            height: 2px;
            background-color: #333;
            z-index: 1;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            width: 20%;
        }

        .step-circle {
            width: 50px;
            height: 50px;
            background-color: #222;
            border: 2px solid #333;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #888;
            transition: all 0.3s;
        }

        .step.active .step-circle {
            background-color: #f39c12;
            border-color: #f39c12;
            color: black;
        }

        .step.completed .step-circle {
            background-color: #444;
            border-color: #f39c12;
            color: #f39c12;
        }

        .step-label {
            font-size: 0.9rem;
            color: #888;
            text-align: center;
            transition: all 0.3s;
        }

        .step.active .step-label {
            color: #f39c12;
            font-weight: bold;
        }

        .step.completed .step-label {
            color: #ccc;
        }

        .form-container {
            background-color: #222;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .form-step {
            display: none;
        }

        .form-step.active {
            display: block;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #ddd;
            font-weight: 500;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border-radius: 5px;
            border: 1px solid #444;
            background-color: #333;
            color: white;
            font-size: 1rem;
        }

        .form-group select {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1em;
        }

        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .form-row > .form-group {
            flex: 1 0 200px;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            background-color: #333;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .checkbox-item:hover {
            background-color: #444;
        }

        .checkbox-item input[type="checkbox"] {
            width: auto;
            margin-right: 0.5rem;
        }

        .checkbox-item label {
            margin-bottom: 0;
            cursor: pointer;
        }

        .slider-container {
            margin: 1.5rem 0;
        }

        .slider-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .slider {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: #333;
            outline: none;
            margin: 1rem 0;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #f39c12;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #f39c12;
            cursor: pointer;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }

        .btn-nav {
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .btn-prev {
            background-color: #333;
            color: white;
            border: none;
        }

        .btn-prev:hover {
            background-color: #444;
        }

        .btn-next, .btn-submit {
            background-color: #f39c12;
            color: black;
            border: none;
        }

        .btn-next:hover, .btn-submit:hover {
            background-color: #e67e22;
        }

        .btn-submit {
            display: none;
        }

        .meal-plan-result {
            display: none;
            margin-top: 2rem;
        }

        .plan-container {
            background-color: #222;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            margin-bottom: 2rem;
        }

        .plan-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .plan-header h3 {
            color: #f39c12;
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .plan-header p {
            color: #ccc;
        }

        .plan-summary {
            background-color: #333;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .summary-row {
            display: flex;
            margin-bottom: 1rem;
        }

        .summary-row:last-child {
            margin-bottom: 0;
        }

        .summary-label {
            width: 150px;
            font-weight: bold;
            color: #f39c12;
        }

        .summary-value {
            flex: 1;
            color: #ddd;
        }

        .weekly-schedule {
            margin-bottom: 2rem;
        }

        .day-container {
            background-color: #333;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .day-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #444;
        }

        .day-title {
            color: #f39c12;
            font-weight: bold;
            font-size: 1.2rem;
            margin: 0;
        }

        .meal-time {
            margin-bottom: 1.5rem;
        }

        .meal-time:last-child {
            margin-bottom: 0;
        }

        .meal-header {
            color: #f39c12;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .meal-header i {
            margin-right: 0.5rem;
        }

        .meal-details {
            background-color: #222;
            border-radius: 5px;
            padding: 1rem;
        }

        .meal-details h5 {
            margin-top: 0;
            margin-bottom: 0.5rem;
            color: #ddd;
        }

        .meal-details p {
            color: #aaa;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .prep-notes {
            margin-top: 0.5rem;
            font-style: italic;
            color: #888;
        }

        .shopping-list {
            background-color: #333;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .shopping-list h4 {
            color: #f39c12;
            margin-top: 0;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #444;
        }

        .shopping-category {
            margin-bottom: 1.5rem;
        }

        .shopping-category:last-child {
            margin-bottom: 0;
        }

        .category-title {
            color: #f39c12;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .shopping-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 0.5rem;
        }

        .shopping-item {
            display: flex;
            align-items: center;
            background-color: #222;
            padding: 0.5rem 1rem;
            border-radius: 5px;
        }

        .shopping-item-check {
            margin-right: 0.5rem;
        }

        .shopping-item-text {
            color: #ddd;
        }

        .quantity {
            color: #888;
            margin-left: auto;
            font-size: 0.9rem;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        .action-btn {
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .action-btn i {
            margin-right: 0.5rem;
        }

        .btn-print {
            background-color: #333;
            color: white;
            border: none;
        }

        .btn-print:hover {
            background-color: #444;
        }

        .btn-save {
            background-color: #f39c12;
            color: black;
            border: none;
        }

        .btn-save:hover {
            background-color: #e67e22;
        }

        .btn-modify {
            background-color: #333;
            color: white;
            border: none;
        }

        .btn-modify:hover {
            background-color: #444;
        }

        .tips-container {
            margin-top: 3rem;
        }

        .tips-title {
            color: #f39c12;
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .tip-card {
            background-color: #222;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .tip-icon {
            font-size: 2rem;
            color: #f39c12;
            margin-bottom: 1rem;
        }

        .tip-card h3 {
            color: #f39c12;
            margin-top: 0;
            margin-bottom: 1rem;
        }

        .tip-card p {
            color: #ddd;
            margin-bottom: 0;
            line-height: 1.5;
        }

        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 40px;
            height: 40px;
            background-color: #f39c12;
            color: black;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .back-to-top.visible {
            opacity: 1;
        }

        @media (max-width: 768px) {
            .planner-hero h1 {
                font-size: 2.5rem;
            }

            .steps-container {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .steps-container::before {
                display: none;
            }

            .step {
                flex-direction: row;
                width: 100%;
                gap: 1rem;
            }

            .step-circle {
                margin-bottom: 0;
            }

            .step-label {
                text-align: left;
            }

            .summary-row {
                flex-direction: column;
            }

            .summary-label {
                width: 100%;
                margin-bottom: 0.3rem;
            }

            .action-buttons {
                flex-direction: column;
            }
        }
    @media (max-width: 768px) {
            /* FORCE hide all desktop navigation */
            nav ul,
            nav li,
            .left-nav ul,
            .right-nav ul,
            .left-nav li,
            .right-nav li,
            .left-nav > ul,
            .right-nav > ul {
                display: none !important;
                visibility: hidden !important;
            }
            
            /* Ensure nav container works properly */
            nav {
                display: flex !important;
                justify-content: space-between !important;
                align-items: center !important;
                padding: 1rem !important;
                flex-wrap: nowrap !important;
            }
            
            /* Keep logo visible */
            .logo,
            .logo a {
                display: block !important;
                visibility: visible !important;
                font-size: 1.5rem !important;
                white-space: nowrap !important;
            }
            
            /* Force show mobile button if it exists */
            .mobile-menu-btn {
                display: flex !important;
                visibility: visible !important;
                flex-direction: column;
                background: none;
                border: none;
                cursor: pointer;
                padding: 0.5rem;
                z-index: 1001;
            }
            
            /* Mobile button styles */
            .mobile-menu-btn .hamburger {
                width: 25px;
                height: 3px;
                background: #ffffff;
                margin: 3px 0;
                transition: 0.3s;
                border-radius: 2px;
            }
            
            /* Ensure right-nav container shows mobile button */
            .right-nav {
                display: flex !important;
                align-items: center !important;
                visibility: visible !important;
            }
        }

        /* If no mobile button exists, add this emergency button */
        @media (max-width: 768px) {
            nav:not(:has(.mobile-menu-btn))::after {
                content: "☰";
                position: absolute;
                right: 1rem;
                top: 50%;
                transform: translateY(-50%);
                color: white;
                font-size: 1.5rem;
                cursor: pointer;
            }
        }
    </style>

<!-- PWA Manifest -->
<link rel="manifest" href="/manifest.json">

<!-- iOS PWA Support -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="performance Hub">
<link rel="apple-touch-icon" href="/icons/icon-192x192.png">
<link rel="apple-touch-icon" sizes="152x152" href="/icons/icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/icons/icon-180x180.png">

<!-- Microsoft Tiles -->
<meta name="msapplication-TileImage" content="/icons/icon-144x144.png">
<meta name="msapplication-TileColor" content="#f39c12">

<!-- Theme Color -->
<meta name="theme-color" content="#f39c12">

<!-- Viewport for PWA -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

<!-- Preload PWA installer script -->
<link rel="preload" href="/pwa-install.js" as="script">
<!-- CSS Loading Order Fix -->

<link rel="stylesheet" href="styles.css">

<!-- FOUC Prevention -->
<style>
    html { visibility: hidden; opacity: 0; }
    html.loaded { visibility: visible; opacity: 1; transition: opacity 0.3s ease; }
@media (max-width: 768px) {
            /* FORCE hide all desktop navigation */
            nav ul,
            nav li,
            .left-nav ul,
            .right-nav ul,
            .left-nav li,
            .right-nav li,
            .left-nav > ul,
            .right-nav > ul {
                display: none !important;
                visibility: hidden !important;
            }
            
            /* Ensure nav container works properly */
            nav {
                display: flex !important;
                justify-content: space-between !important;
                align-items: center !important;
                padding: 1rem !important;
                flex-wrap: nowrap !important;
            }
            
            /* Keep logo visible */
            .logo,
            .logo a {
                display: block !important;
                visibility: visible !important;
                font-size: 1.5rem !important;
                white-space: nowrap !important;
            }
            
            /* Force show mobile button if it exists */
            .mobile-menu-btn {
                display: flex !important;
                visibility: visible !important;
                flex-direction: column;
                background: none;
                border: none;
                cursor: pointer;
                padding: 0.5rem;
                z-index: 1001;
            }
            
            /* Mobile button styles */
            .mobile-menu-btn .hamburger {
                width: 25px;
                height: 3px;
                background: #ffffff;
                margin: 3px 0;
                transition: 0.3s;
                border-radius: 2px;
            }
            
            /* Ensure right-nav container shows mobile button */
            .right-nav {
                display: flex !important;
                align-items: center !important;
                visibility: visible !important;
            }
        }

        /* If no mobile button exists, add this emergency button */
        @media (max-width: 768px) {
            nav:not(:has(.mobile-menu-btn))::after {
                content: "☰";
                position: absolute;
                right: 1rem;
                top: 50%;
                transform: translateY(-50%);
                color: white;
                font-size: 1.5rem;
                cursor: pointer;
            }
        }
    </style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.documentElement.classList.add('loaded');
    });
    window.addEventListener('load', function() {
        document.documentElement.classList.add('loaded');
    });
</script>
<script src="js/vivify-stats.js"></script>
<script src="js/leaderboard-system.js"></script>
</head>
<body>
    <div class="wrapper">
        <header>
            <nav>
                <div class="left-nav">
                    <div class="logo">
                        <a href="index.html" aria-label="Home Page"><h1>Vivify</h1></a>
                    </div>
                    <ul>
                        <li><a href="about.html" aria-label="About Us Page">About</a></li>
                        <li class="dropdown" id="categoryDropdown">
                            <a href="#" class="dropbtn" aria-label="Categories Dropdown">Training</a>
                            <div class="dropdown-content">
                                <a href="fitness.html" aria-label="Fitness Page">Fitness</a>
                                <a href="nutrition.html" class="active" aria-label="Nutrition Page">Nutrition</a>
                                <a href="focus-resilience.html" aria-label="Focus & Resilience Page">Focus & Resilience</a>
                                <a href="life-mastery.html" aria-label="Life Lessons Page">Life Mastery</a>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="right-nav">
                    <ul>
                        <li><a href="profile.html" id="profileLink" aria-label="Profile Page">Profile</a></li>
                        <li><a href="#" id="logoutLink" aria-label="Logout">Logout</a></li>
                        <li><a href="login.html" id="loginLink" style="display: none;" aria-label="Login Page">Login</a></li>
                        <li><a href="signup.html" id="signupLink" style="display: none;" aria-label="Sign Up Page">Sign Up</a></li>
                    </ul>
                </div>
            </nav>
        </header>

        <!-- Hero Section -->
        <section class="planner-hero">
            <h1>Custom Meal Prep Planner</h1>
            <p>Create a personalized meal prep plan tailored to your schedule, budget, cooking facilities, and preferences. Answer a few questions to receive a complete weekly meal plan with shopping list and prep instructions.</p>
        </section>

        <!-- Planner Tool Section -->
        <main class="planner-container">
            <section class="planner-section">
                <h2>Your Customized Meal Prep Journey</h2>
                
                <div class="steps-container">
                    <div class="step active" id="step-1">
                        <div class="step-circle">1</div>
                        <div class="step-label">Your Situation</div>
                    </div>
                    <div class="step" id="step-2">
                        <div class="step-circle">2</div>
                        <div class="step-label">Dietary Details</div>
                    </div>
                    <div class="step" id="step-3">
                        <div class="step-circle">3</div>
                        <div class="step-label">Food Preferences</div>
                    </div>
                    <div class="step" id="step-4">
                        <div class="step-circle">4</div>
                        <div class="step-label">Meal Schedule</div>
                    </div>
                    <div class="step" id="step-5">
                        <div class="step-circle">5</div>
                        <div class="step-label">Your Plan</div>
                    </div>
                </div>
                
                <div class="form-container">
                    <form id="meal-prep-form">
                        <!-- Step 1: Your Situation -->
                        <div class="form-step active" id="form-step-1">
                            <h3 style="color: #f39c12; margin-top: 0;">Your Situation</h3>
                            <p>Let's understand your living situation, schedule, and constraints.</p>
                            
                            <div class="form-group">
                                <label for="living-situation">Where do you currently live?</label>
                                <select id="living-situation" name="living-situation" required>
                                    <option value="">Select an option</option>
                                    <option value="dorm">Dorm/Residence Hall</option>
                                    <option value="apartment">Apartment/House</option>
                                    <option value="with-family">With Family</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="kitchen-access">What kitchen facilities do you have access to?</label>
                                <select id="kitchen-access" name="kitchen-access" required>
                                    <option value="">Select an option</option>
                                    <option value="full-kitchen">Full Kitchen (stove, oven, refrigerator)</option>
                                    <option value="limited-kitchen">Limited Kitchen (microwave, mini-fridge)</option>
                                    <option value="shared-kitchen">Shared Kitchen (with roommates/others)</option>
                                    <option value="dining-hall">Primarily Dining Hall/Campus Food</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="cooking-skill">How would you rate your cooking skills?</label>
                                <select id="cooking-skill" name="cooking-skill" required>
                                    <option value="">Select an option</option>
                                    <option value="beginner">Beginner (can follow basic recipes)</option>
                                    <option value="intermediate">Intermediate (comfortable in the kitchen)</option>
                                    <option value="advanced">Advanced (can handle complex recipes)</option>
                                    <option value="no-experience">No Experience (need very simple options)</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="prep-time">How much time can you dedicate to meal prepping each week?</label>
                                <select id="prep-time" name="prep-time" required>
                                    <option value="">Select an option</option>
                                    <option value="minimal">Minimal (30 minutes or less)</option>
                                    <option value="moderate">Moderate (1-2 hours)</option>
                                    <option value="extensive">Extensive (2-3 hours)</option>
                                    <option value="flexible">Flexible (can split across multiple days)</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="weekly-budget">What's your approximate weekly food budget?</label>
                                <select id="weekly-budget" name="weekly-budget" required>
                                    <option value="">Select an option</option>
                                    <option value="tight">Tight ($30-50/week)</option>
                                    <option value="moderate">Moderate ($50-80/week)</option>
                                    <option value="flexible">Flexible ($80-120/week)</option>
                                    <option value="generous">Generous ($120+/week)</option>
                                </select>
                            </div>
                            
                            <div class="nav-buttons">
                                <button type="button" class="btn-nav btn-prev" disabled>Previous</button>
                                <button type="button" class="btn-nav btn-next" id="next-to-step-2">Next</button>
                            </div>
                        </div>
                        
                        <!-- Step 2: Dietary Details -->
                        <div class="form-step" id="form-step-2">
                            <h3 style="color: #f39c12; margin-top: 0;">Dietary Details</h3>
                            <p>Tell us about your dietary restrictions and nutritional goals.</p>
                            
                            <div class="form-group">
                                <label for="dietary-restriction">Do you have any dietary restrictions?</label>
                                <select id="dietary-restriction" name="dietary-restriction" required>
                                    <option value="">Select an option</option>
                                    <option value="none">No restrictions</option>
                                    <option value="vegetarian">Vegetarian</option>
                                    <option value="vegan">Vegan</option>
                                    <option value="gluten-free">Gluten-Free</option>
                                    <option value="dairy-free">Dairy-Free</option>
                                    <option value="other">Other (please specify below)</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="other-restrictions">If "Other" or multiple restrictions, please specify:</label>
                                <textarea id="other-restrictions" name="other-restrictions" rows="2"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label>Are there any specific foods you're allergic to?</label>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="allergy-nuts" name="allergies[]" value="nuts">
                                        <label for="allergy-nuts">Nuts</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="allergy-shellfish" name="allergies[]" value="shellfish">
                                        <label for="allergy-shellfish">Shellfish</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="allergy-eggs" name="allergies[]" value="eggs">
                                        <label for="allergy-eggs">Eggs</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="allergy-soy" name="allergies[]" value="soy">
                                        <label for="allergy-soy">Soy</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="allergy-dairy" name="allergies[]" value="dairy">
                                        <label for="allergy-dairy">Dairy</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="allergy-gluten" name="allergies[]" value="gluten">
                                        <label for="allergy-gluten">Gluten</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="allergy-none" name="allergies[]" value="none">
                                        <label for="allergy-none">No allergies</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="nutrition-goal">What is your primary nutritional goal?</label>
                                <select id="nutrition-goal" name="nutrition-goal" required>
                                    <option value="">Select an option</option>
                                    <option value="balanced">Balanced nutrition</option>
                                    <option value="weight-loss">Weight management</option>
                                    <option value="muscle-gain">Muscle building</option>
                                    <option value="energy-focus">Energy and focus for studying</option>
                                    <option value="budget-friendly">Budget-friendly eating</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="meals-per-day">How many meals do you typically eat per day?</label>
                                <select id="meals-per-day" name="meals-per-day" required>
                                    <option value="">Select an option</option>
                                    <option value="2">2 meals</option>
                                    <option value="3">3 meals</option>
                                    <option value="4">3 meals + 1 snack</option>
                                    <option value="5">3 meals + 2 snacks</option>
                                    <option value="6">5+ meals</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="calorie-range">Approximate daily calorie target (if known):</label>
                                <select id="calorie-range" name="calorie-range">
                                    <option value="">I don't know/No preference</option>
                                    <option value="1500">Around 1500 calories</option>
                                    <option value="1800">Around 1800 calories</option>
                                    <option value="2000">Around 2000 calories</option>
                                    <option value="2200">Around 2200 calories</option>
                                    <option value="2500">Around 2500 calories</option>
                                    <option value="3000">Around 3000 calories</option>
                                </select>
                            </div>
                            
                            <div class="nav-buttons">
                                <button type="button" class="btn-nav btn-prev" id="back-to-step-1">Previous</button>
                                <button type="button" class="btn-nav btn-next" id="next-to-step-3">Next</button>
                            </div>
                        </div>
                        
                        <!-- Step 3: Food Preferences -->
                        <div class="form-step" id="form-step-3">
                            <h3 style="color: #f39c12; margin-top: 0;">Food Preferences</h3>
                            <p>Help us understand the types of foods you enjoy eating.</p>
                            
                            <div class="form-group">
                                <label>Which protein sources do you prefer?</label>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="protein-chicken" name="proteins[]" value="chicken">
                                        <label for="protein-chicken">Chicken</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="protein-beef" name="proteins[]" value="beef">
                                        <label for="protein-beef">Beef</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="protein-pork" name="proteins[]" value="pork">
                                        <label for="protein-pork">Pork</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="protein-fish" name="proteins[]" value="fish">
                                        <label for="protein-fish">Fish</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="protein-eggs" name="proteins[]" value="eggs">
                                        <label for="protein-eggs">Eggs</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="protein-tofu" name="proteins[]" value="tofu">
                                        <label for="protein-tofu">Tofu/Tempeh</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="protein-beans" name="proteins[]" value="beans">
                                        <label for="protein-beans">Beans/Lentils</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="protein-dairy" name="proteins[]" value="dairy">
                                        <label for="protein-dairy">Greek Yogurt/Cottage Cheese</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Which carbohydrate sources do you prefer?</label>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="carb-rice" name="carbs[]" value="rice">
                                        <label for="carb-rice">Rice</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="carb-pasta" name="carbs[]" value="pasta">
                                        <label for="carb-pasta">Pasta</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="carb-bread" name="carbs[]" value="bread">
                                        <label for="carb-bread">Bread/Wraps</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="carb-potato" name="carbs[]" value="potato">
                                        <label for="carb-potato">Potatoes</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="carb-oats" name="carbs[]" value="oats">
                                        <label for="carb-oats">Oats</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="carb-quinoa" name="carbs[]" value="quinoa">
                                        <label for="carb-quinoa">Quinoa</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="carb-corn" name="carbs[]" value="corn">
                                        <label for="carb-corn">Corn</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="carb-sweet-potato" name="carbs[]" value="sweet-potato">
                                        <label for="carb-sweet-potato">Sweet Potatoes</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Which flavor profiles do you enjoy?</label>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="flavor-italian" name="flavors[]" value="italian">
                                        <label for="flavor-italian">Italian</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="flavor-mexican" name="flavors[]" value="mexican">
                                        <label for="flavor-mexican">Mexican</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="flavor-asian" name="flavors[]" value="asian">
                                        <label for="flavor-asian">Asian</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="flavor-mediterranean" name="flavors[]" value="mediterranean">
                                        <label for="flavor-mediterranean">Mediterranean</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="flavor-indian" name="flavors[]" value="indian">
                                        <label for="flavor-indian">Indian</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="flavor-american" name="flavors[]" value="american">
                                        <label for="flavor-american">American</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="flavor-middle-eastern" name="flavors[]" value="middle-eastern">
                                        <label for="flavor-middle-eastern">Middle Eastern</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="disliked-foods">Are there any specific foods you strongly dislike?</label>
                                <textarea id="disliked-foods" name="disliked-foods" rows="2" placeholder="E.g., mushrooms, cilantro, seafood..."></textarea>
                            </div>
                            
                            <div class="slider-container">
                                <label for="variety-preference">How much meal variety do you prefer?</label>
                                <div class="slider-header">
                                    <span>Same meals all week</span>
                                    <span>New meals every day</span>
                                </div>
                                <input type="range" min="1" max="5" value="3" class="slider" id="variety-preference" name="variety-preference">
                            </div>
                            
                            <div class="nav-buttons">
                                <button type="button" class="btn-nav btn-prev" id="back-to-step-2">Previous</button>
                                <button type="button" class="btn-nav btn-next" id="next-to-step-4">Next</button>
                            </div>
                        </div>
                        
                        <!-- Step 4: Meal Schedule -->
                        <div class="form-step" id="form-step-4">
                            <h3 style="color: #f39c12; margin-top: 0;">Meal Schedule</h3>
                            <p>Tell us about your weekly schedule to optimize your meal prep plan.</p>
                            
                            <div class="form-group">
                                <label for="prep-days">Which day(s) can you dedicate to meal prepping?</label>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="prep-monday" name="prep-days[]" value="monday">
                                        <label for="prep-monday">Monday</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="prep-tuesday" name="prep-days[]" value="tuesday">
                                        <label for="prep-tuesday">Tuesday</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="prep-wednesday" name="prep-days[]" value="wednesday">
                                        <label for="prep-wednesday">Wednesday</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="prep-thursday" name="prep-days[]" value="thursday">
                                        <label for="prep-thursday">Thursday</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="prep-friday" name="prep-days[]" value="friday">
                                        <label for="prep-friday">Friday</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="prep-saturday" name="prep-days[]" value="saturday">
                                        <label for="prep-saturday">Saturday</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="prep-sunday" name="prep-days[]" value="sunday">
                                        <label for="prep-sunday">Sunday</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="dining-out-days">On which days do you typically eat out or use campus dining?</label>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="out-monday" name="dining-out-days[]" value="monday">
                                        <label for="out-monday">Monday</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="out-tuesday" name="dining-out-days[]" value="tuesday">
                                        <label for="out-tuesday">Tuesday</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="out-wednesday" name="dining-out-days[]" value="wednesday">
                                        <label for="out-wednesday">Wednesday</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="out-thursday" name="dining-out-days[]" value="thursday">
                                        <label for="out-thursday">Thursday</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="out-friday" name="dining-out-days[]" value="friday">
                                        <label for="out-friday">Friday</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="out-saturday" name="dining-out-days[]" value="saturday">
                                        <label for="out-saturday">Saturday</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="out-sunday" name="dining-out-days[]" value="sunday">
                                        <label for="out-sunday">Sunday</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="out-none" name="dining-out-days[]" value="none">
                                        <label for="out-none">I rarely eat out</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="breakfast-type">What type of breakfast do you prefer?</label>
                                <select id="breakfast-type" name="breakfast-type" required>
                                    <option value="">Select an option</option>
                                    <option value="quick">Quick & Easy (grab-and-go)</option>
                                    <option value="hot">Hot Breakfast (when time permits)</option>
                                    <option value="make-ahead">Make-Ahead (overnight oats, etc.)</option>
                                    <option value="protein">High-Protein (eggs, protein shakes)</option>
                                    <option value="skip">I often skip breakfast</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="lunch-situation">Where do you typically eat lunch?</label>
                                <select id="lunch-situation" name="lunch-situation" required>
                                    <option value="">Select an option</option>
                                    <option value="campus">On campus between classes</option>
                                    <option value="home">At home/dorm room</option>
                                    <option value="work">At work</option>
                                    <option value="dining-hall">Dining hall</option>
                                    <option value="varying">Varies day to day</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="dinner-situation">When do you typically eat dinner?</label>
                                <select id="dinner-situation" name="dinner-situation" required>
                                    <option value="">Select an option</option>
                                    <option value="early">Early evening (5-6 PM)</option>
                                    <option value="standard">Standard evening (6-8 PM)</option>
                                    <option value="late">Late evening (after 8 PM)</option>
                                    <option value="varying">Varies day to day</option>
                                </select>
                            </div>
                            
                            <div class="slider-container">
                                <label for="meal-complexity">How much cooking do you want to do during the week?</label>
                                <div class="slider-header">
                                    <span>Everything pre-prepped</span>
                                    <span>Fresh cook daily</span>
                                </div>
                                <input type="range" min="1" max="5" value="3" class="slider" id="meal-complexity" name="meal-complexity">
                            </div>
                            
                            <div class="nav-buttons">
                                <button type="button" class="btn-nav btn-prev" id="back-to-step-3">Previous</button>
                                <button type="button" class="btn-nav btn-next" id="next-to-step-5">Next</button>
                                <button type="submit" class="btn-nav btn-submit">Generate Plan</button>
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Results Display - Initially Hidden -->
                <div class="meal-plan-result" id="meal-plan-result">
                    <div class="plan-container">
                        <div class="plan-header">
                            <h3>Your Personalized Meal Prep Plan</h3>
                            <p>Based on your preferences and schedule, we've created the following plan.</p>
                        </div>
                        
                        <div class="plan-summary">
                            <h4 style="color: #f39c12; margin-top: 0; margin-bottom: 1rem;">Plan Summary</h4>
                            <div class="summary-row">
                                <div class="summary-label">Meals Included:</div>
                                <div class="summary-value">7 Breakfasts, 5 Lunches, 6 Dinners, 7 Snacks</div>
                            </div>
                            <div class="summary-row">
                                <div class="summary-label">Prep Schedule:</div>
                                <div class="summary-value">Main prep on Sunday (2 hours), mini-prep on Wednesday (30 minutes)</div>
                            </div>
                            <div class="summary-row">
                                <div class="summary-label">Estimated Cost:</div>
                                <div class="summary-value">$65-75 total ($9-11 per day)</div>
                            </div>
                            <div class="summary-row">
                                <div class="summary-label">Special Notes:</div>
                                <div class="summary-value">Plan accounts for eating out on Friday evenings and accommodates your busy schedule on Mondays and Wednesdays.</div>
                            </div>
                        </div>
                        
                        <div class="weekly-schedule">
                            <h4 style="color: #f39c12; margin-bottom: 1rem;">Weekly Meal Schedule</h4>
                            
                            <!-- Sunday -->
                            <div class="day-container">
                                <div class="day-header">
                                    <h4 class="day-title">Sunday</h4>
                                    <span style="color: #f39c12; font-weight: bold;">Prep Day</span>
                                </div>
                                
                                <div class="meal-time">
                                    <div class="meal-header">
                                        <i class="fas fa-sun"></i> Breakfast
                                    </div>
                                    <div class="meal-details">
                                        <h5>Greek Yogurt Parfait</h5>
                                        <p>Greek yogurt layered with granola, berries, and honey.</p>
                                        <p class="prep-notes">Make fresh morning of.</p>
                                    </div>
                                </div>
                                
                                <div class="meal-time">
                                    <div class="meal-header">
                                        <i class="fas fa-utensils"></i> Lunch
                                    </div>
                                    <div class="meal-details">
                                        <h5>Quick Sandwich & Fruit</h5>
                                        <p>Simple meal before your main prep session.</p>
                                        <p class="prep-notes">No prep needed.</p>
                                    </div>
                                </div>
                                
                                <div class="meal-time">
                                    <div class="meal-header">
                                        <i class="fas fa-moon"></i> Dinner
                                    </div>
                                    <div class="meal-details">
                                        <h5>Sheet Pan Chicken & Vegetables</h5>
                                        <p>Roasted chicken thighs with sweet potatoes, broccoli, and bell peppers.</p>
                                        <p class="prep-notes">Cook extra chicken and vegetables for meal prep.</p>
                                    </div>
                                </div>
                                
                                <div class="meal-time">
                                    <div class="meal-header">
                                        <i class="fas fa-list-check"></i> Prep Tasks
                                    </div>
                                    <div class="meal-details">
                                        <p>• Cook batch of brown rice</p>
                                        <p>• Roast chicken for multiple meals</p>
                                        <p>• Prep overnight oats for Mon-Wed</p>
                                        <p>• Chop vegetables for the week</p>
                                        <p>• Assemble lunch containers for Mon-Wed</p>
                                        <p>• Portion out snacks</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Monday -->
                            <div class="day-container">
                                <div class="day-header">
                                    <h4 class="day-title">Monday</h4>
                                    <span style="color: #ff6b6b; font-weight: bold;">Busy Day</span>
                                </div>
                                
                                <div class="meal-time">
                                    <div class="meal-header">
                                        <i class="fas fa-sun"></i> Breakfast
                                    </div>
                                    <div class="meal-details">
                                        <h5>Peanut Butter Banana Overnight Oats</h5>
                                        <p>Grab-and-go breakfast prepared Sunday.</p>
                                        <p class="prep-notes">Prepped on Sunday.</p>
                                    </div>
                                </div>
                                
                                <div class="meal-time">
                                    <div class="meal-header">
                                        <i class="fas fa-utensils"></i> Lunch
                                    </div>
                                    <div class="meal-details">
                                        <h5>Mediterranean Chicken Bowl</h5>
                                        <p>Brown rice, roasted chicken, cucumbers, cherry tomatoes, hummus, and feta.</p>
                                        <p class="prep-notes">Prepped on Sunday, keep dressing separate.</p>
                                    </div>
                                </div>
                                
                                <div class="meal-time">
                                    <div class="meal-header">
                                        <i class="fas fa-moon"></i> Dinner
                                    </div>
                                    <div class="meal-details">
                                        <h5>Leftover Sheet Pan Chicken & Vegetables</h5>
                                        <p>Sunday's dinner repurposed.</p>
                                        <p class="prep-notes">Just reheat - no additional prep.</p>
                                    </div>
                                </div>
                                
                                <div class="meal-time">
                                    <div class="meal-header">
                                        <i class="fas fa-apple-whole"></i> Snacks
                                    </div>
                                    <div class="meal-details">
                                        <p>• Greek yogurt with honey</p>
                                        <p>• Trail mix portion</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Tuesday -->
                            <div class="day-container">
                                <div class="day-header">
                                    <h4 class="day-title">Tuesday</h4>
                                </div>
                                
                                <div class="meal-time">
                                    <div class="meal-header">
                                        <i class="fas fa-sun"></i> Breakfast
                                    </div>
                                    <div class="meal-details">
                                        <h5>Berry Almond Overnight Oats</h5>
                                        <p>Grab-and-go breakfast prepared Sunday.</p>
                                        <p class="prep-notes">Prepped on Sunday.</p>
                                    </div>
                                </div>
                                
                                <div class="meal-time">
                                    <div class="meal-header">
                                        <i class="fas fa-utensils"></i> Lunch
                                    </div>
                                    <div class="meal-details">
                                        <h5>Chicken & Veggie Wrap</h5>
                                        <p>Whole grain wrap with leftover chicken, hummus, spinach, and bell peppers.</p>
                                        <p class="prep-notes">Components prepped Sunday, assemble night before.</p>
                                    </div>
                                </div>
                                
                                <div class="meal-time">
                                    <div class="meal-header">
                                        <i class="fas fa-moon"></i> Dinner
                                    </div>
                                    <div class="meal-details">
                                        <h5>Black Bean & Rice Bowl</h5>
                                        <p>Brown rice, black beans, corn, salsa, avocado, and cheese.</p>
                                        <p class="prep-notes">Use pre-cooked rice, canned beans, and frozen corn. Quick 15-min assembly.</p>
                                    </div>
                                </div>
                                
                                <div class="meal-time">
                                    <div class="meal-header">
                                        <i class="fas fa-apple-whole"></i> Snacks
                                    </div>
                                    <div class="meal-details">
                                        <p>• Apple with peanut butter</p>
                                        <p>• Carrot sticks with hummus</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- More days would be included here -->
                        </div>
                        
                        <div class="shopping-list">
                            <h4>Weekly Shopping List</h4>
                            
                            <div class="shopping-category">
                                <div class="category-title">Proteins</div>
                                <div class="shopping-items">
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Chicken thighs</span>
                                        <span class="quantity">2 lbs</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Greek yogurt</span>
                                        <span class="quantity">32 oz container</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Eggs</span>
                                        <span class="quantity">1 dozen</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Black beans</span>
                                        <span class="quantity">2 cans</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="shopping-category">
                                <div class="category-title">Grains & Starches</div>
                                <div class="shopping-items">
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Brown rice</span>
                                        <span class="quantity">2 cups dry</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Rolled oats</span>
                                        <span class="quantity">1 container</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Whole grain wraps</span>
                                        <span class="quantity">1 package</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Sweet potatoes</span>
                                        <span class="quantity">3 medium</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="shopping-category">
                                <div class="category-title">Vegetables</div>
                                <div class="shopping-items">
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Broccoli</span>
                                        <span class="quantity">1 head</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Bell peppers</span>
                                        <span class="quantity">3</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Spinach</span>
                                        <span class="quantity">1 bag</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Carrots</span>
                                        <span class="quantity">1 bag</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Cherry tomatoes</span>
                                        <span class="quantity">1 pint</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Cucumber</span>
                                        <span class="quantity">1</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Onion</span>
                                        <span class="quantity">1 large</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Garlic</span>
                                        <span class="quantity">1 head</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="shopping-category">
                                <div class="category-title">Fruits</div>
                                <div class="shopping-items">
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Bananas</span>
                                        <span class="quantity">5</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Berries</span>
                                        <span class="quantity">1 container</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Apples</span>
                                        <span class="quantity">3</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Avocado</span>
                                        <span class="quantity">2</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="shopping-category">
                                <div class="category-title">Pantry Items</div>
                                <div class="shopping-items">
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Olive oil</span>
                                        <span class="quantity">Check stock</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Honey</span>
                                        <span class="quantity">Check stock</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Peanut butter</span>
                                        <span class="quantity">1 jar</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Hummus</span>
                                        <span class="quantity">1 container</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Salsa</span>
                                        <span class="quantity">1 jar</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Granola</span>
                                        <span class="quantity">1 bag</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Mixed nuts</span>
                                        <span class="quantity">Check stock</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Dried fruit</span>
                                        <span class="quantity">Check stock</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="shopping-category">
                                <div class="category-title">Dairy & Refrigerated</div>
                                <div class="shopping-items">
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Milk/Alt milk</span>
                                        <span class="quantity">1/2 gallon</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Shredded cheese</span>
                                        <span class="quantity">1 bag</span>
                                    </div>
                                    <div class="shopping-item">
                                        <input type="checkbox" class="shopping-item-check">
                                        <span class="shopping-item-text">Feta cheese</span>
                                        <span class="quantity">1 container</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="action-btn btn-print">
                                <i class="fas fa-print"></i>
                                Print Plan
                            </button>
                            <button class="action-btn btn-save">
                                <i class="fas fa-save"></i>
                                Save to Profile
                            </button>
                            <button class="action-btn btn-modify">
                                <i class="fas fa-edit"></i>
                                Modify Plan
                            </button>
                        </div>
                    </div>
                </div>
            <section class="tips-container">
                <h2 class="tips-title">Quick Meal Prep Tips</h2>
                
                <div class="tips-grid">
                    <div class="tip-card">
                        <div class="tip-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <h3>Set a Time Block</h3>
                        <p>Block 2-3 hours on your calendar for meal prep and treat it like an important appointment. Sunday afternoons tend to work well for many students.</p>
                    </div>
                    
                    <div class="tip-card">
                        <div class="tip-icon">
                            <i class="fas fa-list-check"></i>
                        </div>
                        <h3>Prep in Batches</h3>
                        <p>Cook multiple portions of proteins, grains, and vegetables at once. Roast different vegetables on the same sheet pan, separated by type.</p>
                    </div>
                    
                    <div class="tip-card">
                        <div class="tip-icon">
                            <i class="fas fa-temperature-arrow-down"></i>
                        </div>
                        <h3>Freeze Strategically</h3>
                        <p>Freeze meals planned for days 4+ to maintain freshness. Thaw overnight in the refrigerator before the day you'll eat them.</p>
                    </div>
                    
                    <div class="tip-card">
                        <div class="tip-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <h3>Budget Stretchers</h3>
                        <p>Build meals around affordable staples like rice, beans, eggs, and frozen vegetables. Buy seasonal produce and keep an eye out for campus food pantry resources.</p>
                    </div>
                    
                    <div class="tip-card">
                        <div class="tip-icon">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <h3>Avoid Meal Fatigue</h3>
                        <p>Prep versatile components that can be mixed and matched rather than complete meals. Use different sauces and toppings to transform the same base ingredients.</p>
                    </div>
                    
                    <div class="tip-card">
                        <div class="tip-icon">
                            <i class="fas fa-box"></i>
                        </div>
                        <h3>Container Strategy</h3>
                        <p>Invest in quality containers with secure lids. Use different sizes for different meal components and consider glass containers for microwave safety.</p>
                    </div>
                </div>
            </section>
        </main>
        
        <div class="back-to-top" id="back-to-top">
            <i class="fas fa-arrow-up"></i>
        </div>

        <!-- Footer -->
        <footer>
            <p>&copy; 2025 Vivify. All rights reserved.</p>
            <ul class="footer-links">
                <li><a href="privacy.html" aria-label="Privacy Policy">Privacy Policy</a></li>
                <li><a href="terms.html" aria-label="Terms of Service">Terms of Service</a></li>
                <li><a href="contact.html" aria-label="Contact Us">Contact Us</a></li>
            </ul>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in
            const isLoggedIn = localStorage.getItem('userLoggedIn') === 'true';
            
            // Update UI based on login status
            document.getElementById('loginLink').style.display = isLoggedIn ? 'none' : 'inline';
            document.getElementById('signupLink').style.display = isLoggedIn ? 'none' : 'inline';
            document.getElementById('logoutLink').style.display = isLoggedIn ? 'inline' : 'none';
            document.getElementById('profileLink').style.display = isLoggedIn ? 'inline' : 'none';
            
            // Handle logout
            document.getElementById('logoutLink').addEventListener('click', function(e) {
                e.preventDefault();
                localStorage.removeItem('userLoggedIn');
                window.location.href = 'index.html';
            });
            
            // Form navigation
            const steps = document.querySelectorAll('.step');
            const formSteps = document.querySelectorAll('.form-step');
            const nextButtons = document.querySelectorAll('.btn-next');
            const prevButtons = document.querySelectorAll('.btn-prev');
            const submitButton = document.querySelector('.btn-submit');
            
            // Next buttons
            document.getElementById('next-to-step-2').addEventListener('click', function() {
                // Validate step 1
                const livingInput = document.getElementById('living-situation');
                const kitchenInput = document.getElementById('kitchen-access');
                const skillInput = document.getElementById('cooking-skill');
                const timeInput = document.getElementById('prep-time');
                const budgetInput = document.getElementById('weekly-budget');
                
                if (livingInput.value && kitchenInput.value && skillInput.value && timeInput.value && budgetInput.value) {
                    goToStep(2);
                } else {
                    alert('Please complete all required fields before proceeding.');
                }
            });
            
            document.getElementById('next-to-step-3').addEventListener('click', function() {
                // Validate step 2
                const dietaryInput = document.getElementById('dietary-restriction');
                const nutritionInput = document.getElementById('nutrition-goal');
                const mealsInput = document.getElementById('meals-per-day');
                
                if (dietaryInput.value && nutritionInput.value && mealsInput.value) {
                    goToStep(3);
                } else {
                    alert('Please complete all required fields before proceeding.');
                }
            });
            
            document.getElementById('next-to-step-4').addEventListener('click', function() {
                // Validate step 3 - at least one checkbox from each food category
                const proteins = document.querySelectorAll('input[name="proteins[]"]:checked').length > 0;
                const carbs = document.querySelectorAll('input[name="carbs[]"]:checked').length > 0;
                
                if (proteins && carbs) {
                    goToStep(4);
                } else {
                    alert('Please select at least one item from each food category (proteins, carbs, vegetables).');
                }
            });
            
            document.getElementById('next-to-step-5').addEventListener('click', function() {
                // Validate step 4
                const breakfastInput = document.getElementById('breakfast-type');
                const lunchInput = document.getElementById('lunch-situation');
                const dinnerInput = document.getElementById('dinner-situation');
                const busyDays = document.querySelectorAll('input[name="busy-days[]"]:checked').length > 0;
                const prepDays = document.querySelectorAll('input[name="prep-days[]"]:checked').length > 0;
                
                if (breakfastInput.value && lunchInput.value && dinnerInput.value && busyDays && prepDays) {
                    // Hide next button, show submit button
                    this.style.display = 'none';
                    submitButton.style.display = 'block';
                    
                    // For demo purposes, immediately show results
                    document.getElementById('form-step-4').style.display = 'none';
                    document.getElementById('meal-plan-result').style.display = 'block';
                    goToStep(5);
                } else {
                    alert('Please complete all required fields before proceeding.');
                }
            });
            
            // Previous buttons
            document.getElementById('back-to-step-1').addEventListener('click', function() {
                goToStep(1);
            });
            
            document.getElementById('back-to-step-2').addEventListener('click', function() {
                goToStep(2);
            });
            
            document.getElementById('back-to-step-3').addEventListener('click', function() {
                goToStep(3);
            });
            
            // Function to navigate between steps
            function goToStep(stepNumber) {
                // Update step indicators
                steps.forEach((step, index) => {
                    if (index + 1 < stepNumber) {
                        step.classList.remove('active');
                        step.classList.add('completed');
                    } else if (index + 1 === stepNumber) {
                        step.classList.add('active');
                        step.classList.remove('completed');
                    } else {
                        step.classList.remove('active', 'completed');
                    }
                });
                
                // Show/hide form steps
                formSteps.forEach((formStep, index) => {
                    if (index + 1 === stepNumber) {
                        formStep.classList.add('active');
                    } else {
                        formStep.classList.remove('active');
                    }
                });
                
                // Update button states
                if (stepNumber === 1) {
                    document.querySelector('.btn-prev').disabled = true;
                } else {
                    document.querySelectorAll('.btn-prev').forEach(btn => btn.disabled = false);
                }
                
                if (stepNumber === 4) {
                    submitButton.style.display = 'block';
                    nextButtons[nextButtons.length - 1].style.display = 'none';
                } else {
                    submitButton.style.display = 'none';
                    nextButtons.forEach(btn => btn.style.display = 'block');
                }
            }
            
            // Form submission
            document.getElementById('meal-prep-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Hide form, show results
                document.getElementById('form-step-4').style.display = 'none';
                document.getElementById('meal-plan-result').style.display = 'block';
                goToStep(5);
                
                // Scroll to top of results
                document.getElementById('meal-plan-result').scrollIntoView({ behavior: 'smooth' });
            });
            
            // Shopping list checkboxes
            const shoppingItems = document.querySelectorAll('.shopping-item-check');
            shoppingItems.forEach(item => {
                item.addEventListener('change', function() {
                    const itemText = this.nextElementSibling;
                    if (this.checked) {
                        itemText.style.textDecoration = 'line-through';
                        itemText.style.color = '#888';
                    } else {
                        itemText.style.textDecoration = 'none';
                        itemText.style.color = '#ddd';
                    }
                });
            });
            
            // Action buttons
            document.querySelector('.btn-print').addEventListener('click', function() {
                window.print();
            });
            
            document.querySelector('.btn-save').addEventListener('click', function() {
                alert('Plan saved to your profile!');
            });
            
            document.querySelector('.btn-modify').addEventListener('click', function() {
                document.getElementById('meal-plan-result').style.display = 'none';
                document.getElementById('form-step-1').classList.add('active');
                goToStep(1);
            });
            
            // Back to top button
            const backToTop = document.getElementById('back-to-top');
            
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    backToTop.classList.add('visible');
                } else {
                    backToTop.classList.remove('visible');
                }
            });
            
            backToTop.addEventListener('click', function() {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            // Handle checkbox mutual exclusivity
            document.getElementById('allergy-none').addEventListener('change', function() {
                if (this.checked) {
                    document.querySelectorAll('input[name="allergies[]"]:not(#allergy-none)').forEach(checkbox => {
                        checkbox.checked = false;
                    });
                }
            });
            
            document.querySelectorAll('input[name="allergies[]"]:not(#allergy-none)').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    if (this.checked) {
                        document.getElementById('allergy-none').checked = false;
                    }
                });
            });
        });
    </script>

<!-- PWA Scripts -->


<script>
// Additional PWA features for each page
document.addEventListener('DOMContentLoaded', function() {
    // Add PWA-specific styles
    if (window.matchMedia('(display-mode: standalone)').matches) {
        document.body.classList.add('pwa-mode');
        
        // Hide address bar on mobile when in PWA mode
        window.scrollTo(0, 1);
    }
    
    // Handle network status
    function updateOnlineStatus() {
        const statusElement = document.getElementById('network-status');
        if (statusElement) {
            if (navigator.onLine) {
                statusElement.textContent = 'Online';
                statusElement.className = 'online';
            } else {
                statusElement.textContent = 'Offline';
                statusElement.className = 'offline';
            }
        }
    }
    
    window.addEventListener('online', updateOnlineStatus);
    window.addEventListener('offline', updateOnlineStatus);
    updateOnlineStatus();
    
    // Add network status indicator if it doesn't exist
    if (!document.getElementById('network-status')) {
        const statusDiv = document.createElement('div');
        statusDiv.id = 'network-status';
        statusDiv.style.cssText = `
            position: fixed;
            top: 10px;
            left: 10px;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            z-index: 1000;
            transition: all 0.3s ease;
        `;
        document.body.appendChild(statusDiv);
        updateOnlineStatus();
    }
});
</script>
<script src="class-management.js"></script> <script src="js/flexible-mobile-nav.js"></script> </body>
</html>