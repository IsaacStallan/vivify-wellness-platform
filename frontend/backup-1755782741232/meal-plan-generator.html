<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Plan Generator - Vivify</title>
    
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Add Font Awesome for icons -->
    
    <style>
        /* Footer styles to ensure it stays at bottom */
        footer {
            background-color: #000;
            color: white;
            text-align: center;
            padding: 2rem 0;
            width: 100%;
            margin-top: auto;
            border-top: 1px solid #333;
        }

        footer .footer-links {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 1rem 0 0 0;
            padding: 0;
        }

        footer .footer-links a {
            color: #a0a0a0;
            text-decoration: none;
            transition: color 0.3s;
        }

        footer .footer-links a:hover {
            color: #f39c12;
        }
        
        /* Meal Plan Generator Specific Styles */
        .generator-hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('https://images.unsplash.com/photo-1543352634-a1c51d9f1fa7?auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 6rem 2rem;
            text-align: center;
        }

        .generator-hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .generator-hero p {
            font-size: 1.25rem;
            max-width: 800px;
            margin: 0 auto 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        .section-title {
            color: #f39c12;
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #333;
        }

        .generator-container {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            margin-bottom: 4rem;
        }

        .generator-form {
            flex: 1;
            min-width: 300px;
            background-color: #222;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .generator-form h3 {
            color: #f39c12;
            margin-top: 0;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            color: #ddd;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-group input[type="text"],
        .form-group input[type="number"],
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            background-color: #333;
            border: 1px solid #444;
            border-radius: 5px;
            color: white;
            font-size: 1rem;
        }

        .form-group select {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1em;
        }

        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            background-color: #333;
            border: 1px solid #444;
            border-radius: 5px;
            color: white;
            font-size: 1rem;
            min-height: 100px;
            resize: vertical;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .checkbox-option {
            display: flex;
            align-items: center;
            color: #ddd;
        }

        .checkbox-option input[type="checkbox"] {
            margin-right: 0.5rem;
        }

        .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 0.5rem;
        }

        .radio-option {
            display: flex;
            align-items: center;
            color: #ddd;
        }

        .radio-option input[type="radio"] {
            margin-right: 0.5rem;
        }

        .macro-fields {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }

        .btn {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            background-color: #f39c12;
            color: black;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 700;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 1rem;
        }

        .btn:hover {
            background-color: #e67e22;
        }

        .btn-block {
            display: block;
            width: 100%;
            text-align: center;
        }

        .generate-btn {
            margin-top: 1.5rem;
            padding: 1rem;
            font-size: 1.1rem;
        }

        .results-container {
            flex: 1;
            min-width: 300px;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            display: inline-block;
            width: 50px;
            height: 50px;
            border: 5px solid #333;
            border-radius: 50%;
            border-top-color: #f39c12;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .meal-plan {
            background-color: #222;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            display: none;
        }

        .meal-plan.active {
            display: block;
        }

        .meal-plan h3 {
            color: #f39c12;
            margin-top: 0;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            text-align: center;
        }

        .nutrition-summary {
            background-color: #333;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .nutrition-summary h4 {
            color: #f39c12;
            margin-top: 0;
            margin-bottom: 1rem;
            text-align: center;
        }

        .macro-summary {
            display: flex;
            justify-content: space-between;
            margin: 1.5rem 0;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .macro-item {
            flex: 1;
            min-width: 120px;
            text-align: center;
        }

        .macro-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: #f39c12;
            margin-bottom: 0.3rem;
        }

        .macro-label {
            color: #ddd;
            font-size: 0.9rem;
        }

        .daily-meals {
            margin-bottom: 2rem;
        }

        .day-header {
            background-color: #333;
            color: #f39c12;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            margin: 1.5rem 0 1rem;
            font-weight: 500;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .day-header::after {
            content: '\f078';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            transition: transform 0.3s;
        }

        .day-header.collapsed::after {
            transform: rotate(-90deg);
        }

        .day-meals {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .meal-card {
            background-color: #333;
            border-radius: 8px;
            padding: 1.5rem;
        }

        .meal-card h5 {
            color: #f39c12;
            margin-top: 0;
            margin-bottom: 0.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #444;
            font-size: 1.1rem;
        }

        .meal-card ul {
            list-style-type: none;
            padding: 0;
            margin-bottom: 1rem;
        }

        .meal-card li {
            color: #ddd;
            margin-bottom: 0.5rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .meal-card li::before {
            content: '\f111';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            font-size: 0.4rem;
            color: #f39c12;
            position: absolute;
            left: 0;
            top: 0.5rem;
        }

        .meal-macros {
            display: flex;
            justify-content: space-between;
            background-color: #444;
            padding: 0.5rem 0.8rem;
            border-radius: 5px;
            font-size: 0.9rem;
            color: #ddd;
        }

        .meal-macros span {
            color: #f39c12;
            font-weight: 500;
        }

        .shopping-list {
            background-color: #333;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .shopping-list h4 {
            color: #f39c12;
            margin-top: 0;
            margin-bottom: 1rem;
            text-align: center;
        }

        .shopping-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .shopping-category {
            margin-bottom: 1rem;
        }

        .shopping-category h5 {
            color: #f39c12;
            margin-top: 0;
            margin-bottom: 0.8rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #444;
        }

        .shopping-category ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .shopping-category li {
            color: #ddd;
            margin-bottom: 0.5rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .shopping-category li::before {
            content: '\f14a';
            font-family: 'Font Awesome 5 Free';
            font-weight: 400;
            color: #f39c12;
            position: absolute;
            left: 0;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .action-buttons .btn {
            flex: 1;
            min-width: 150px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .meal-prep-tips {
            background-color: #333;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .meal-prep-tips h4 {
            color: #f39c12;
            margin-top: 0;
            margin-bottom: 1rem;
            text-align: center;
        }

        .meal-prep-tips ul {
            color: #ddd;
            padding-left: 1.5rem;
            line-height: 1.6;
        }

        .meal-prep-tips li {
            margin-bottom: 0.8rem;
        }

        .info-card {
            background-color: #222;
            border-radius: 10px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .info-card h3 {
            color: #f39c12;
            margin-top: 0;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .info-card p {
            color: #ddd;
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .tips-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .tip-card {
            background-color: #333;
            border-radius: 8px;
            padding: 1.5rem;
        }

        .tip-card h4 {
            color: #f39c12;
            margin-top: 0;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }

        .tip-card h4 i {
            margin-right: 0.8rem;
        }

        .tip-card p {
            color: #ddd;
            line-height: 1.6;
            margin-bottom: 0;
        }

        .example-meals {
            margin-top: 4rem;
        }

        .example-meals h2 {
            color: #f39c12;
            font-size: 2rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        .meal-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .meal-category {
            background-color: #222;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .meal-category h3 {
            color: #f39c12;
            margin-top: 0;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .example-meal {
            background-color: #333;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .example-meal h4 {
            color: #f39c12;
            margin-top: 0;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #444;
        }

        .example-meal p {
            color: #ddd;
            margin-bottom: 1rem;
        }

        .example-meal ul {
            color: #ddd;
            padding-left: 1.5rem;
            margin-bottom: 1rem;
        }

        .example-meal li {
            margin-bottom: 0.5rem;
        }

        .example-meal .macros {
            display: flex;
            justify-content: space-between;
            background-color: #444;
            padding: 0.5rem 0.8rem;
            border-radius: 5px;
            font-size: 0.9rem;
            color: #ddd;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .faq-section {
            margin-top: 4rem;
        }

        .faq-section h2 {
            color: #f39c12;
            font-size: 2rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        .faq-item {
            background-color: #222;
            border-radius: 10px;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .faq-question {
            padding: 1.5rem;
            color: #f39c12;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .faq-question:after {
            content: '\f078';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            transition: transform 0.3s;
        }

        .faq-question.active:after {
            transform: rotate(180deg);
        }

        .faq-answer {
            padding: 0 1.5rem 1.5rem;
            color: #ddd;
            line-height: 1.6;
            display: none;
        }

        .faq-answer.active {
            display: block;
        }

        @media (max-width: 768px) {
            .generator-hero h1 {
                font-size: 2.5rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .action-buttons {
                flex-direction: column;
            }

            .action-buttons .btn {
                width: 100%;
            }

            .macro-fields {
                grid-template-columns: 1fr;
            }

            .day-meals {
                grid-template-columns: 1fr;
            }

            .shopping-categories {
                grid-template-columns: 1fr;
            }
        }
    </style>
<!-- CSS Loading Order Fix -->

<link rel="stylesheet" href="styles.css">

<!-- FOUC Prevention -->
<style>
    html { visibility: hidden; opacity: 0; }
    html.loaded { visibility: visible; opacity: 1; transition: opacity 0.3s ease; }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.documentElement.classList.add('loaded');
    });
    window.addEventListener('load', function() {
        document.documentElement.classList.add('loaded');
    });
</script>
<script src="js/vivify-stats.js"></script>
<script src="js/leaderboard-system.js"></script>
</head>
<body>
    <div class="wrapper">
        <header>
            <nav>
                <div class="left-nav">
                    <div class="logo">
                        <a href="index.html" aria-label="Home Page"><h1>Vivify</h1></a>
                    </div>
                    <ul>
                        <li><a href="about.html" aria-label="About Us Page">About</a></li>
                        <li class="dropdown" id="categoryDropdown">
                            <a href="#" class="dropbtn" aria-label="Categories Dropdown">Training</a>
                            <div class="dropdown-content">
                                <a href="fitness.html" aria-label="Fitness Page">Fitness</a>
                                <a href="nutrition.html" class="active" aria-label="Nutrition Page">Nutrition</a>
                                <a href="focus-resilience.html" aria-label="Focus & Resilience Page">Focus & Resilience</a>
                                <a href="life-mastery.html" aria-label="Life Lessons Page">Life Mastery</a>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="right-nav">
                    <ul>
                        <li><a href="dashboard.html" id="dashboardLink" aria-label="Dashboard">Performance Hub</a></li>
                        <li><a href="profile.html" id="profileLink" aria-label="Profile Page">Profile</a></li>
                        <li><a href="#" id="logoutLink" aria-label="Logout">Logout</a></li>
                        <li><a href="login.html" id="loginLink" style="display: none;" aria-label="Login Page">Login</a></li>
                        <li><a href="signup.html" id="signupLink" style="display: none;" aria-label="Sign Up Page">Sign Up</a></li>
                    </ul>
                </div>
            </nav>
        </header>

        <!-- Hero Section -->
        <section class="generator-hero">
            <h1>Student Meal Plan Generator</h1>
            <p>Create a personalized meal plan tailored to your nutrition goals, dietary preferences, schedule, and budget to support your academic performance and overall wellbeing.</p>
        </section>

        <!-- Generator Section -->
        <section class="container">
            <h2 class="section-title">Create Your Custom Meal Plan</h2>
            
            <div class="generator-container">
                <div class="generator-form">
                    <h3>Your Information & Preferences</h3>
                    <form id="meal-plan-form">
                        <div class="form-group">
                            <label for="calories">Daily Calorie Target</label>
                            <input type="number" id="calories" name="calories" min="1200" max="5000" placeholder="e.g., 2000" required>
                            <p style="margin-top: 0.5rem; color: #aaa; font-size: 0.9rem;">Not sure? <a href="tdee-calculator.html" style="color: #f39c12;">Calculate your calorie needs</a></p>
                        </div>
                        
                        <div class="form-group">
                            <label for="goal">Primary Nutrition Goal</label>
                            <select id="goal" name="goal" required>
                                <option value="">Select Your Goal</option>
                                <option value="muscle-gain">Muscle Gain</option>
                                <option value="fat-loss">Fat Loss</option>
                                <option value="maintenance">Maintenance/General Health</option>
                                <option value="performance">Athletic Performance</option>
                                <option value="academic">Academic Performance Focus</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="diet-type">Dietary Pattern</label>
                            <select id="diet-type" name="diet-type" required>
                                <option value="">Select Dietary Pattern</option>
                                <option value="balanced">Balanced (No Restrictions)</option>
                                <option value="mediterranean">Mediterranean</option>
                                <option value="high-protein">High Protein</option>
                                <option value="vegetarian">Vegetarian</option>
                                <option value="vegan">Vegan</option>
                                <option value="paleo">Paleo</option>
                                <option value="keto">Ketogenic</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="meals-per-day">Meals Per Day</label>
                            <select id="meals-per-day" name="meals-per-day" required>
                                <option value="3">3 meals</option>
                                <option value="4" selected>4 meals (3 meals + 1 snack)</option>
                                <option value="5">5 meals (3 meals + 2 snacks)</option>
                                <option value="6">6 meals (Frequent small meals)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="time-to-cook">Cooking Time Available</label>
                            <select id="time-to-cook" name="time-to-cook" required>
                                <option value="minimal">Minimal (15 minutes or less)</option>
                                <option value="moderate" selected>Moderate (30 minutes)</option>
                                <option value="flexible">Flexible (45+ minutes)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="budget">Budget Level</label>
                            <select id="budget" name="budget" required>
                                <option value="tight">Tight Budget (Student-friendly)</option>
                                <option value="moderate" selected>Moderate Budget</option>
                                <option value="flexible">Flexible Budget</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Food Allergies/Intolerances</label>
                            <div class="checkbox-group">
                                <label class="checkbox-option">
                                    <input type="checkbox" name="allergies" value="dairy"> Dairy
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="allergies" value="eggs"> Eggs
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="allergies" value="gluten"> Gluten
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="allergies" value="nuts"> Tree Nuts
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="allergies" value="peanuts"> Peanuts
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="allergies" value="shellfish"> Shellfish
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="allergies" value="soy"> Soy
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="allergies" value="fish"> Fish
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="foods-dislike">Foods You Dislike</label>
                            <textarea id="foods-dislike" name="foods-dislike" placeholder="Enter foods you don't enjoy (comma separated)"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="kitchen-equipment">Available Kitchen Equipment</label>
                            <div class="checkbox-group">
                                <label class="checkbox-option">
                                    <input type="checkbox" name="kitchen" value="microwave" checked> Microwave
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="kitchen" value="stove" checked> Stove/Cooktop
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="kitchen" value="oven" checked> Oven
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="kitchen" value="blender"> Blender
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="kitchen" value="slow-cooker"> Slow Cooker
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="kitchen" value="air-fryer"> Air Fryer
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="kitchen" value="fridge" checked> Refrigerator
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="kitchen" value="freezer" checked> Freezer
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Meal Prep Preference</label>
                            <div class="radio-group">
                                <label class="radio-option">
                                    <input type="radio" name="meal-prep" value="daily" checked> Daily Cooking
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="meal-prep" value="batch"> Batch Cooking (2-3 times per week)
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="meal-prep" value="weekly"> Weekly Meal Prep (once per week)
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="days">Days to Generate</label>
                            <select id="days" name="days" required>
                                <option value="1">1 day</option>
                                <option value="3">3 days</option>
                                <option value="5">5 days</option>
                                <option value="7" selected>7 days</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="btn btn-block generate-btn">Generate My Meal Plan</button>
                    </form>
                </div>
                
                <div class="results-container">
                    <!-- Loading Spinner -->
                    <div class="loading" id="loading-spinner">
                        <div class="spinner"></div>
                        <p>Creating your personalized meal plan...</p>
                    </div>
                    
                    <!-- Meal Plan Results -->
                    <div class="meal-plan" id="meal-plan-results">
                        <h3>Your Personalized Student Meal Plan</h3>
                        
                        <div class="nutrition-summary">
                            <h4>Nutrition Overview</h4>
                            <p style="text-align: center; color: #ddd;">Based on your goals and preferences, here's your daily nutritional breakdown:</p>
                            
                            <div class="macro-summary">
                                <div class="macro-item">
                                    <div class="macro-value" id="daily-calories">2,000</div>
                                    <div class="macro-label">Calories</div>
                                </div>
                                <div class="macro-item">
                                    <div class="macro-value" id="daily-protein">125g</div>
                                    <div class="macro-label">Protein (25%)</div>
                                </div>
                                <div class="macro-item">
                                    <div class="macro-value" id="daily-carbs">250g</div>
                                    <div class="macro-label">Carbs (50%)</div>
                                </div>
                                <div class="macro-item">
                                    <div class="macro-value" id="daily-fat">56g</div>
                                    <div class="macro-label">Fat (25%)</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="daily-meals">
                            <h4 style="color: #f39c12; margin-bottom: 1rem;">Weekly Meal Schedule</h4>
                            
                            <!-- Day 1 -->
                            <div class="day-header">
                                Day 1 - Monday
                            </div>
                            <div class="day-meals">
                                <div class="meal-card">
                                    <h5>Breakfast</h5>
                                    <ul>
                                        <li>Protein Oatmeal (1/2 cup oats, 1 scoop protein powder, 1 tbsp peanut butter, 1/2 banana)</li>
                                        <li>1 cup Greek yogurt with berries</li>
                                    </ul>
                                    <div class="meal-macros">
                                        <div>Calories: <span>480</span></div>
                                        <div>Protein: <span>35g</span></div>
                                        <div>Carbs: <span>55g</span></div>
                                        <div>Fat: <span>15g</span></div>
                                    </div>
                                </div>
                                
                                <div class="meal-card">
                                    <h5>Lunch</h5>
                                    <ul>
                                        <li>Turkey & Avocado Wrap (2 slices turkey, 1/4 avocado, lettuce, tomato, whole wheat wrap)</li>
                                        <li>Side salad with olive oil dressing</li>
                                        <li>1 apple</li>
                                    </ul>
                                    <div class="meal-macros">
                                        <div>Calories: <span>550</span></div>
                                        <div>Protein: <span>30g</span></div>
                                        <div>Carbs: <span>60g</span></div>
                                        <div>Fat: <span>20g</span></div>
                                    </div>
                                </div>
                                
                                <div class="meal-card">
                                    <h5>Dinner</h5>
                                    <ul>
                                        <li>Baked Salmon (5oz)</li>
                                        <li>Quinoa (3/4 cup cooked)</li>
                                        <li>Roasted broccoli & carrots</li>
                                    </ul>
                                    <div class="meal-macros">
                                        <div>Calories: <span>520</span></div>
                                        <div>Protein: <span>40g</span></div>
                                        <div>Carbs: <span>45g</span></div>
                                        <div>Fat: <span>15g</span></div>
                                    </div>
                                </div>
                                
                                <div class="meal-card">
                                    <h5>Snack</h5>
                                    <ul>
                                        <li>Protein shake (1 scoop protein powder, 1 cup almond milk)</li>
                                        <li>1 oz mixed nuts</li>
                                    </ul>
                                    <div class="meal-macros">
                                        <div>Calories: <span>330</span></div>
                                        <div>Protein: <span>25g</span></div>
                                        <div>Carbs: <span>10g</span></div>
                                        <div>Fat: <span>20g</span></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Day 2 -->
                            <div class="day-header collapsed">
                                Day 2 - Tuesday
                            </div>
                            <div class="day-meals" style="display: none;">
                                <!-- Day 2 meals would be added here -->
                            </div>
                            
                            <!-- Day 3 -->
                            <div class="day-header collapsed">
                                Day 3 - Wednesday
                            </div>
                            <div class="day-meals" style="display: none;">
                                <!-- Day 3 meals would be added here -->
                            </div>
                            
                            <!-- More days would be added dynamically -->
                        </div>
                        
                        <div class="shopping-list">
                            <h4>Weekly Shopping List</h4>
                            
                            <div class="shopping-categories">
                                <div class="shopping-category">
                                    <h5>Proteins</h5>
                                    <ul>
                                        <li>Greek yogurt (32oz)</li>
                                        <li>Protein powder (your choice)</li>
                                        <li>Turkey slices (1 package)</li>
                                        <li>Chicken breast (2lbs)</li>
                                        <li>Salmon fillets (1lb)</li>
                                        <li>Eggs (1 dozen)</li>
                                        <li>Tofu, extra firm (1 block)</li>
                                    </ul>
                                </div>
                                
                                <div class="shopping-category">
                                    <h5>Grains & Starches</h5>
                                    <ul>
                                        <li>Rolled oats</li>
                                        <li>Quinoa</li>
                                        <li>Brown rice</li>
                                        <li>Whole wheat wraps</li>
                                        <li>Whole grain bread</li>
                                        <li>Sweet potatoes (3)</li>
                                    </ul>
                                </div>
                                
                                <div class="shopping-category">
                                    <h5>Fruits & Vegetables</h5>
                                    <ul>
                                        <li>Bananas</li>
                                        <li>Berries (frozen or fresh)</li>
                                        <li>Apples</li>
                                        <li>Avocados (3)</li>
                                        <li>Lettuce</li>
                                        <li>Tomatoes</li>
                                        <li>Broccoli</li>
                                        <li>Carrots</li>
                                        <li>Bell peppers</li>
                                        <li>Spinach</li>
                                    </ul>
                                </div>
                                
                                <div class="shopping-category">
                                    <h5>Healthy Fats</h5>
                                    <ul>
                                        <li>Peanut butter</li>
                                        <li>Mixed nuts</li>
                                        <li>Olive oil</li>
                                        <li>Avocados (listed in produce)</li>
                                    </ul>
                                </div>
                                
                                <div class="shopping-category">
                                    <h5>Dairy & Alternatives</h5>
                                    <ul>
                                        <li>Almond milk (or milk of choice)</li>
                                        <li>Greek yogurt (listed in proteins)</li>
                                        <li>Cheese, shredded (4oz)</li>
                                    </ul>
                                </div>
                                
                                <div class="shopping-category">
                                    <h5>Condiments & Spices</h5>
                                    <ul>
                                        <li>Salt & pepper</li>
                                        <li>Garlic powder</li>
                                        <li>Italian herbs</li>
                                        <li>Olive oil</li>
                                        <li>Lemon juice</li>
                                        <li>Low-sodium soy sauce</li>
                                        <li>Hot sauce (optional)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="meal-prep-tips">
                            <h4>Meal Prep Strategies</h4>
                            <p>Based on your preference for batch cooking, here's a recommended prep schedule:</p>
                            
                            <ul>
                                <li><strong>Sunday Prep (2 hours):</strong> Cook rice, quinoa, and roast vegetables. Prepare protein sources like chicken and tofu. Portion into containers for grab-and-go meals.</li>
                                <li><strong>Wednesday Quick Prep (30 mins):</strong> Refresh some items and cook additional proteins for the second half of the week.</li>
                                <li><strong>Breakfast Shortcut:</strong> Prepare overnight oats in batches of 3-4 to save morning time.</li>
                                <li><strong>Salad Hack:</strong> Wash and chop vegetables for salads, but store components separately and assemble just before eating.</li>
                                <li><strong>Freezer-Friendly Items:</strong> Extra portions of cooked grains and proteins can be frozen for future weeks.</li>
                            </ul>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="btn" id="save-meal-plan">
                                <i class="fas fa-save"></i> Save Plan
                            </button>
                            <button class="btn" id="print-meal-plan">
                                <i class="fas fa-print"></i> Print Plan
                            </button>
                            <button class="btn" id="regenerate-plan">
                                <i class="fas fa-redo"></i> Regenerate
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Information Section -->
            <div class="info-card">
                <h3>Student Meal Planning Principles</h3>
                <p>Effective meal planning for students balances nutrition, convenience, affordability, and academic support. Here are the key principles behind our meal plan generator:</p>
                
                <div class="tips-cards">
                    <div class="tip-card">
                        <h4><i class="fas fa-brain"></i> Brain-Boosting Nutrition</h4>
                        <p>Each meal plan incorporates foods known to support cognitive function, including omega-3 fatty acids (fatty fish, walnuts), antioxidants (berries, dark leafy greens), and complex carbohydrates for sustained energy during study sessions. Protein timing and distribution are optimized to support neurotransmitter production.</p>
                    </div>
                    
                    <div class="tip-card">
                        <h4><i class="fas fa-dollar-sign"></i> Budget Optimization</h4>
                        <p>Plans utilize cost-effective protein sources (eggs, legumes, chicken), seasonal produce, and staple grains that provide excellent nutritional value per dollar. Meal prep recommendations minimize food waste, and shopping lists are organized to help you maximize your grocery budget and take advantage of bulk purchases.</p>
                    </div>
                    
                    <div class="tip-card">
                        <h4><i class="fas fa-clock"></i> Time-Efficient Preparation</h4>
                        <p>Recipes and meal combinations are designed to work with your available cooking time and kitchen equipment. Batch cooking strategies allow you to prepare multiple meals at once, and quick-assembly options are included for busy days before exams or during heavy course loads.</p>
                    </div>
                    
                    <div class="tip-card">
                        <h4><i class="fas fa-balance-scale"></i> Balanced Macronutrients</h4>
                        <p>Each meal plan provides appropriate proportions of protein, carbohydrates, and fats based on your goals. Academic performance plans emphasize slow-releasing carbs for sustained energy, while athletic plans may include more protein for recovery and muscle maintenance.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Example Meals Section -->
        <section class="container example-meals">
            <h2>Student-Friendly Meal Ideas</h2>
            
            <div class="meal-categories">
                <div class="meal-category">
                    <h3>Dorm Room Meals</h3>
                    <p style="color: #ddd; text-align: center; margin-bottom: 1.5rem;">Limited equipment? No problem! These meals require minimal tools and space.</p>
                    
                    <div class="example-meal">
                        <h4>No-Cook Protein Bowl</h4>
                        <ul>
                            <li>1 cup Greek yogurt</li>
                            <li>1 tbsp peanut butter</li>
                            <li>1 tbsp honey</li>
                            <li>1/4 cup granola</li>
                            <li>1/2 cup berries (fresh or frozen)</li>
                            <li>1 tbsp chia seeds</li>
                        </ul>
                        <p><strong>Preparation:</strong> Layer all ingredients in a bowl. If using frozen berries, add them first and let them thaw slightly before adding other ingredients.</p>
                        <div class="macros">
                            <div>Calories: 450</div>
                            <div>Protein: 25g</div>
                            <div>Carbs: 45g</div>
                            <div>Fat: 18g</div>
                        </div>
                    </div>
                    
                    <div class="example-meal">
                        <h4>Microwave Egg & Veggie Mug</h4>
                        <ul>
                            <li>2 eggs</li>
                            <li>1/4 cup diced bell pepper</li>
                            <li>2 tbsp shredded cheese</li>
                            <li>Pinch of salt and pepper</li>
                            <li>Optional: 1/4 avocado and hot sauce</li>
                        </ul>
                        <p><strong>Preparation:</strong> Spray a microwave-safe mug with cooking spray. Add eggs and whisk with a fork. Add vegetables and seasonings. Microwave for 45 seconds, stir, then microwave for another 45 seconds or until eggs are set.</p>
                        <div class="macros">
                            <div>Calories: 280</div>
                            <div>Protein: 19g</div>
                            <div>Carbs: 5g</div>
                            <div>Fat: 20g</div>
                        </div>
                    </div>
                </div>
                
                <div class="meal-category">
                    <h3>Quick Grab-and-Go Options</h3>
                    <p style="color: #ddd; text-align: center; margin-bottom: 1.5rem;">Perfect for busy class days when you need portable nutrition.</p>
                    
                    <div class="example-meal">
                        <h4>Protein-Packed Wrap</h4>
                        <ul>
                            <li>1 whole wheat wrap</li>
                            <li>3oz sliced turkey or chicken</li>
                            <li>1/4 avocado, mashed</li>
                            <li>Handful of spinach</li>
                            <li>1 tbsp hummus</li>
                            <li>Optional: sliced tomato, mustard</li>
                        </ul>
                        <p><strong>Preparation:</strong> Spread hummus and avocado on wrap. Layer remaining ingredients and roll tightly. Wrap in foil for easy transport to class.</p>
                        <div class="macros">
                            <div>Calories: 350</div>
                            <div>Protein: 25g</div>
                            <div>Carbs: 30g</div>
                            <div>Fat: 15g</div>
                        </div>
                    </div>
                    
                    <div class="example-meal">
                        <h4>Mason Jar Salad</h4>
                        <ul>
                            <li>2 tbsp dressing (olive oil + vinegar)</li>
                            <li>1/4 cup chickpeas</li>
                            <li>1/4 cup diced bell peppers</li>
                            <li>1/4 cup cherry tomatoes</li>
                            <li>2oz diced chicken or tofu</li>
                            <li>1 cup leafy greens</li>
                            <li>1 tbsp sunflower seeds</li>
                        </ul>
                        <p><strong>Preparation:</strong> Layer ingredients in a mason jar starting with dressing at bottom, then hard vegetables, protein, and greens on top. Keeps fresh for 2-3 days in refrigerator.</p>
                        <div class="macros">
                            <div>Calories: 320</div>
                            <div>Protein: 20g</div>
                            <div>Carbs: 15g</div>
                            <div>Fat: 18g</div>
                        </div>
                    </div>
                </div>
                
                <div class="meal-category">
                    <h3>Batch-Cooking Champions</h3>
                    <p style="color: #ddd; text-align: center; margin-bottom: 1.5rem;">Prep once, eat multiple times with these meal-prep friendly recipes.</p>
                    
                    <div class="example-meal">
                        <h4>Sheet Pan Chicken & Vegetables</h4>
                        <ul>
                            <li>4oz chicken breast</li>
                            <li>1 cup mixed vegetables (broccoli, bell pepper, onion)</li>
                            <li>1 small sweet potato, diced</li>
                            <li>1 tbsp olive oil</li>
                            <li>Italian herbs, garlic powder, salt & pepper</li>
                        </ul>
                        <p><strong>Preparation:</strong> Toss ingredients with oil and seasonings. Spread on sheet pan and bake at 400F for 20-25 minutes. Makes 4 servings when prepared with 1lb chicken and 4 cups vegetables.</p>
                        <div class="macros">
                            <div>Calories: 310</div>
                            <div>Protein: 28g</div>
                            <div>Carbs: 20g</div>
                            <div>Fat: 12g</div>
                        </div>
                    </div>
                    
                    <div class="example-meal">
                        <h4>Meal Prep Burrito Bowls</h4>
                        <ul>
                            <li>1/2 cup cooked brown rice</li>
                            <li>1/2 cup black beans</li>
                            <li>3oz ground turkey (seasoned)</li>
                            <li>1/4 cup corn</li>
                            <li>2 tbsp salsa</li>
                            <li>1/4 avocado</li>
                            <li>Lime juice, cilantro, and spices</li>
                        </ul>
                        <p><strong>Preparation:</strong> Cook rice according to package. Brown turkey with taco seasoning. Assemble bowls with rice, beans, meat, and toppings. Store avocado separately and add just before eating. Makes 4 servings when prepared with 2 cups rice and 12oz turkey.</p>
                        <div class="macros">
                            <div>Calories: 380</div>
                            <div>Protein: 25g</div>
                            <div>Carbs: 40g</div>
                            <div>Fat: 12g</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- FAQ Section -->
        <section class="container faq-section">
            <h2>Frequently Asked Questions</h2>
            
            <div class="faq-item">
                <div class="faq-question">How do I adapt my meal plan for dining hall eating?</div>
                <div class="faq-answer">
                    <p>To use your meal plan in a college dining hall:</p>
                    <ul>
                        <li><strong>Look for equivalent options:</strong> Use your meal plan as a guide for proportions and food groups rather than exact recipes.</li>
                        <li><strong>Build a balanced plate:</strong> Fill half your plate with vegetables, a quarter with protein (chicken, fish, beans), and a quarter with complex carbs (brown rice, quinoa).</li>
                        <li><strong>Watch portion sizes:</strong> Use the dining hall's portioning tools or estimate using your hand (palm = protein portion, fist = carb portion).</li>
                        <li><strong>Plan ahead:</strong> Look at the dining hall menu online before going to identify the healthiest options available.</li>
                        <li><strong>Customize stations:</strong> Use the salad bar, sandwich station, or custom stir-fry options to create meals that align with your meal plan.</li>
                    </ul>
                    <p>Consider using your meal plan fully for meals you prepare yourself, while using these guidelines for dining hall meals.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">How should I adjust my meal timing around classes and studying?</div>
                <div class="faq-answer">
                    <p>Strategic meal timing can support academic performance:</p>
                    <ul>
                        <li><strong>Before morning classes:</strong> Include protein and complex carbs (like oatmeal with protein powder) for sustained energy and focus.</li>
                        <li><strong>Between classes:</strong> Keep portable snacks in your backpack that combine protein and carbs (Greek yogurt, fruit with nut butter, protein bars).</li>
                        <li><strong>Before exams:</strong> Eat a balanced meal 1-2 hours prior, focusing on steady energy sources rather than sugary or heavy foods that might cause energy crashes.</li>
                        <li><strong>During study sessions:</strong> Plan study breaks to coincide with meals or snacks, as this can improve information retention.</li>
                        <li><strong>Late-night studying:</strong> Opt for lighter, easily digestible options that won't disrupt sleep if studying late (protein shake, toast with nut butter, yogurt with berries).</li>
                    </ul>
                    <p>If you know you have a particularly challenging class day, prepare grab-and-go options in advance so nutrition doesn't suffer due to time constraints.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">Can I adapt this meal plan for a tight student budget?</div>
                <div class="faq-answer">
                    <p>Absolutely! Here are strategies to make your meal plan more budget-friendly:</p>
                    <ul>
                        <li><strong>Protein sources:</strong> Emphasize eggs, canned tuna, chicken thighs (vs. breasts), beans, and lentils, which offer protein at lower cost.</li>
                        <li><strong>Buy in bulk:</strong> Purchase staples like rice, oats, and dried beans in bulk quantities for significant savings.</li>
                        <li><strong>Frozen over fresh:</strong> Frozen fruits and vegetables are often cheaper, last longer, and retain similar nutritional value to fresh options.</li>
                        <li><strong>Seasonal produce:</strong> Buy fruits and vegetables that are in season, which typically cost less.</li>
                        <li><strong>Store brands:</strong> Opt for generic or store brands for pantry staples like pasta, canned goods, and frozen vegetables.</li>
                        <li><strong>Reduce food waste:</strong> Follow the meal prep schedule carefully to ensure you use ingredients before they spoil.</li>
                        <li><strong>Batch cooking:</strong> Prepare larger quantities of meals that freeze well to take advantage of bulk pricing.</li>
                    </ul>
                    <p>You can use the "regenerate" option and select "tight budget" to receive a more cost-conscious version of your meal plan.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">How do I adjust my meal plan during exam periods?</div>
                <div class="faq-answer">
                    <p>During exam periods, prioritize both convenience and brain-supporting nutrition:</p>
                    <ul>
                        <li><strong>Increase meal prep:</strong> Prepare more grab-and-go meals in advance to minimize cooking time during intense study periods.</li>
                        <li><strong>Prioritize brain foods:</strong> Emphasize omega-3 fatty acids (fatty fish, walnuts), antioxidants (berries, dark chocolate), and sources of choline (eggs) that support cognitive function.</li>
                        <li><strong>Consider carb timing:</strong> Include more complex carbs during long study sessions for sustained energy and focus.</li>
                        <li><strong>Stay hydrated:</strong> Dehydration can impair cognitive performance, so keep water accessible during study sessions.</li>
                        <li><strong>Plan smaller, more frequent meals:</strong> This can help maintain steady energy levels without the drowsiness that can follow larger meals.</li>
                        <li><strong>Strategic caffeine:</strong> If you use caffeine, time it for optimal effectiveness rather than constant consumption (typically early morning and early afternoon).</li>
                    </ul>
                    <p>Remember that while nutrition is important during exam periods, perfect adherence to your meal plan should not become an additional stressor. Simplify where needed while maintaining nutritional quality.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">What if I don't have time to prepare all these meals?</div>
                <div class="faq-answer">
                    <p>If time is severely limited, adapt your meal plan with these strategies:</p>
                    <ul>
                        <li><strong>Focus on one major prep session:</strong> Dedicate 2-3 hours once per week (perhaps Sunday) to prepare most of your meals in advance.</li>
                        <li><strong>Utilize pre-prepped ingredients:</strong> Pre-washed greens, pre-cut vegetables, canned beans (rinsed), and rotisserie chicken can save significant time.</li>
                        <li><strong>Embrace "assembly meals":</strong> Keep ingredients that don't require cooking (wraps, canned tuna, hummus, pre-cooked grains) for quickly assembled meals.</li>
                        <li><strong>Simplify recipes:</strong> Use the "regenerate" option with "minimal" cooking time to get simplified versions of recipes.</li>
                        <li><strong>Batch cook and freeze:</strong> Prepare larger portions of meals that freeze well, so you can defrost as needed.</li>
                        <li><strong>Supermarket shortcuts:</strong> Utilize pre-cooked proteins, steam-in-bag vegetables, and quick-cook grains to reduce prep time.</li>
                    </ul>
                    <p>Even implementing parts of the meal plan is valuable. Consider identifying which meals are most important for you to prepare (perhaps breakfast for focus in morning classes) and focus your time there.</p>
                </div>
            </div>
        </section>
        
        <!-- Footer -->
        <footer>
            <p>&copy; 2024 Vivify. All rights reserved.</p>
            <ul class="footer-links">
                <li><a href="privacy.html" aria-label="Privacy Policy">Privacy Policy</a></li>
                <li><a href="terms.html" aria-label="Terms of Service">Terms of Service</a></li>
                <li><a href="contact.html" aria-label="Contact Us">Contact Us</a></li>
            </ul>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in
            const isLoggedIn = localStorage.getItem('userLoggedIn') === 'true';
            
            // Update UI based on login status
            document.getElementById('loginLink').style.display = isLoggedIn ? 'none' : 'inline';
            document.getElementById('signupLink').style.display = isLoggedIn ? 'none' : 'inline';
            document.getElementById('logoutLink').style.display = isLoggedIn ? 'inline' : 'none';
            document.getElementById('profileLink').style.display = isLoggedIn ? 'inline' : 'none';
            document.getElementById('dashboardLink').style.display = isLoggedIn ? 'inline' : 'none';
            
            // Handle logout
            document.getElementById('logoutLink').addEventListener('click', function(e) {
                e.preventDefault();
                localStorage.removeItem('userLoggedIn');
                window.location.href = 'index.html';
            });
            
            // Form submission for meal plan generation
            const mealPlanForm = document.getElementById('meal-plan-form');
            const loadingSpinner = document.getElementById('loading-spinner');
            const mealPlanResults = document.getElementById('meal-plan-results');
            
            mealPlanForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Show loading spinner
                loadingSpinner.classList.add('active');
                mealPlanResults.style.display = 'none';
                
                // Simulate calculation/generation delay
                setTimeout(function() {
                    generateMealPlan();
                    
                    // Hide loading spinner and show results
                    loadingSpinner.classList.remove('active');
                    mealPlanResults.style.display = 'block';
                    
                    // Scroll to results
                    mealPlanResults.scrollIntoView({ behavior: 'smooth' });
                }, 2000);
            });
            
            // Day header toggle functionality
            document.addEventListener('click', function(e) {
                if(e.target.matches('.day-header') || e.target.closest('.day-header')) {
                    const header = e.target.matches('.day-header') ? e.target : e.target.closest('.day-header');
                    header.classList.toggle('collapsed');
                    
                    const mealSection = header.nextElementSibling;
                    if(mealSection.style.display === 'none' || !mealSection.style.display) {
                        mealSection.style.display = 'grid';
                    } else {
                        mealSection.style.display = 'none';
                    }
                }
            });
            
            // Function to generate meal plan based on form inputs
            function generateMealPlan() {
                // Get main form values
                const calories = parseInt(document.getElementById('calories').value);
                const goal = document.getElementById('goal').value;
                const dietType = document.getElementById('diet-type').value;
                const mealsPerDay = parseInt(document.getElementById('meals-per-day').value);
                
                // Update nutrition summary
                document.getElementById('daily-calories').textContent = calories.toLocaleString();
                
                // Calculate macros based on goal
                let proteinPct, carbPct, fatPct;
                
                switch(goal) {
                    case 'muscle-gain':
                        proteinPct = 0.30; // 30%
                        carbPct = 0.45; // 45%
                        fatPct = 0.25; // 25%
                        break;
                    case 'fat-loss':
                        proteinPct = 0.35; // 35%
                        carbPct = 0.40; // 40%
                        fatPct = 0.25; // 25%
                        break;
                    case 'performance':
                        proteinPct = 0.25; // 25%
                        carbPct = 0.55; // 55%
                        fatPct = 0.20; // 20%
                        break;
                    case 'academic':
                        proteinPct = 0.20; // 20%
                        carbPct = 0.55; // 55%
                        fatPct = 0.25; // 25%
                        break;
                    default: // maintenance/balanced
                        proteinPct = 0.25; // 25%
                        carbPct = 0.50; // 50%
                        fatPct = 0.25; // 25%
                }
                
                // Adjust macros based on diet type
                if(dietType === 'keto') {
                    proteinPct = 0.30; // 30%
                    carbPct = 0.10; // 10%
                    fatPct = 0.60; // 60%
                } else if(dietType === 'high-protein') {
                    proteinPct = Math.min(proteinPct + 0.05, 0.40);
                    carbPct = 1 - proteinPct - fatPct;
                } else if(dietType === 'vegan' || dietType === 'vegetarian') {
                    // Slightly adjust plant-based diets for protein sources
                    proteinPct = Math.max(proteinPct - 0.05, 0.15);
                    carbPct = carbPct + 0.05;
                }
                
                // Calculate macros in grams
                // Protein and carbs = 4 calories per gram, Fat = 9 calories per gram
                const proteinGrams = Math.round((calories * proteinPct) / 4);
                const carbGrams = Math.round((calories * carbPct) / 4);
                const fatGrams = Math.round((calories * fatPct) / 9);
                
                // Update UI with calculated macros
                document.getElementById('daily-protein').textContent = proteinGrams + 'g';
                document.getElementById('daily-carbs').textContent = carbGrams + 'g';
                document.getElementById('daily-fat').textContent = fatGrams + 'g';
                
                // In a real application, this would generate a complete meal plan based on all form inputs
                // For now, we're showing a static example meal plan
                
                // Update days to display based on form selection
                const days = parseInt(document.getElementById('days').value);
                // A real implementation would dynamically generate meal plans for each selected day
            }
            
            // Handle action buttons
            document.getElementById('save-meal-plan').addEventListener('click', function() {
                // In a real app, this would save to user's profile
                alert('Meal plan saved to your profile! You can access it from your dashboard.');
            });
            
            document.getElementById('print-meal-plan').addEventListener('click', function() {
                window.print();
            });
            
            document.getElementById('regenerate-plan').addEventListener('click', function() {
                mealPlanResults.style.display = 'none';
                loadingSpinner.classList.add('active');
                
                // Simulate regeneration delay
                setTimeout(function() {
                    generateMealPlan();
                    
                    // Hide loading spinner and show results
                    loadingSpinner.classList.remove('active');
                    mealPlanResults.style.display = 'block';
                }, 1500);
            });
            
            // FAQ Toggle functionality
            const faqQuestions = document.querySelectorAll('.faq-question');
            
            faqQuestions.forEach(question => {
                question.addEventListener('click', function() {
                    // Toggle active class on question
                    this.classList.toggle('active');
                    
                    // Toggle display of answer
                    const answer = this.nextElementSibling;
                    if (answer.classList.contains('active')) {
                        answer.classList.remove('active');
                    } else {
                        // Close other answers first
                        document.querySelectorAll('.faq-answer').forEach(a => {
                            a.classList.remove('active');
                        });
                        answer.classList.add('active');
                    }
                });
            });
        });
    </script>
<script src="js/flexible-mobile-nav.js"></script> </body>
</html>