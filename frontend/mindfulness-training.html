<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mindfulness Training - Vivify</title>
    
    <!-- Load fonts first -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Load icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Header - Consistent with other pages */
        header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        nav {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .left-nav {
            display: flex;
            align-items: center;
            gap: 3rem;
        }

        .logo a {
            font-size: 1.8rem;
            font-weight: 900;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
        }

        .left-nav ul, .right-nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .left-nav a, .right-nav a {
            color: #ffffff;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }

        .left-nav a:hover, .right-nav a:hover {
            color: #f39c12;
        }

        .left-nav a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            transition: width 0.3s ease;
        }

        .left-nav a:hover::after {
            width: 100%;
        }

        .cta-nav {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: #000 !important;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .cta-nav:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(243, 156, 18, 0.4);
            color: #000 !important;
        }

        .hidden {
            display: none !important;
        }

        /* Hero Section */
        .mindfulness-hero {
            background: 
                radial-gradient(circle at 20% 20%, rgba(243, 156, 18, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(230, 126, 34, 0.1) 0%, transparent 50%),
                linear-gradient(rgba(10, 10, 10, 0.7), rgba(10, 10, 10, 0.7)),
                url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            padding: 150px 2rem 6rem;
            text-align: center;
            position: relative;
            min-height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hero-content {
            position: relative;
            z-index: 100;
            max-width: 900px;
            margin: 0 auto;
        }

        .mindfulness-badge {
            display: inline-block;
            background: rgba(243, 156, 18, 0.1);
            color: #f39c12;
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            border: 1px solid rgba(243, 156, 18, 0.2);
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 2rem;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .mindfulness-hero h1 {
            font-size: clamp(3rem, 6vw, 5rem);
            font-weight: 900;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #ffffff 0%, #f39c12 50%, #e67e22 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.1;
        }

        .mindfulness-hero p {
            font-size: 1.25rem;
            max-width: 700px;
            margin: 0 auto 2rem;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
        }

        /* Live Mindfulness Stats */
        .mindfulness-stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 2rem 0 3rem;
            flex-wrap: wrap;
        }

        .mindfulness-stat {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(243, 156, 18, 0.3);
            border-radius: 16px;
            padding: 1rem 1.5rem;
            backdrop-filter: blur(10px);
            position: relative;
        }

        .mindfulness-stat::before {
            content: '';
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            width: 8px;
            height: 8px;
            background: #27ae60;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(39, 174, 96, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(39, 174, 96, 0); }
            100% { box-shadow: 0 0 0 0 rgba(39, 174, 96, 0); }
        }

        .mindfulness-stat .stat-number {
            display: block;
            font-size: 1.5rem;
            font-weight: 800;
            color: #f39c12;
        }

        .mindfulness-stat .stat-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn {
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: inline-block;
            font-family: inherit;
            border: none;
            cursor: pointer;
            margin: 0 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: #000;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            border: 2px solid rgba(243, 156, 18, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(243, 156, 18, 0.4);
        }

        /* Interactive Breathing Circle */
        .breathing-section {
            background: rgba(255, 255, 255, 0.02);
            padding: 6rem 2rem;
        }

        .breathing-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 3rem;
            position: relative;
            text-align: center;
        }

        .breathing-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            border-radius: 24px 24px 0 0;
        }

        .section-heading {
            font-size: 2.5rem;
            font-weight: 800;
            text-align: center;
            margin-bottom: 3rem;
            background: linear-gradient(135deg, #ffffff, #f39c12);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .breathing-patterns {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .breathing-pattern {
            padding: 0.75rem 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .breathing-pattern.active {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: #000;
            border-color: transparent;
        }

        .pattern-name {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .pattern-ratio {
            font-size: 0.7rem;
            opacity: 0.8;
        }

        .breathing-circle-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 400px;
            margin: 2rem 0;
            position: relative;
        }

        .breathing-circle {
            width: 200px;
            height: 200px;
            border: 3px solid rgba(243, 156, 18, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: all 0.3s ease;
        }

        .breathing-circle.inhale {
            animation: inhale 4s ease-in-out infinite;
            border-color: #27ae60;
            box-shadow: 0 0 30px rgba(39, 174, 96, 0.3);
        }

        .breathing-circle.exhale {
            animation: exhale 4s ease-in-out infinite;
            border-color: #3498db;
            box-shadow: 0 0 30px rgba(52, 152, 219, 0.3);
        }

        .breathing-circle.hold {
            border-color: #f39c12;
            box-shadow: 0 0 30px rgba(243, 156, 18, 0.3);
        }

        @keyframes inhale {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        @keyframes exhale {
            0%, 100% { transform: scale(1.3); }
            50% { transform: scale(1); }
        }

        .breathing-instruction {
            font-size: 1.5rem;
            font-weight: 600;
            color: #ffffff;
            position: absolute;
            text-align: center;
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .breathing-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .breathing-btn {
            padding: 1rem 2rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            color: #ffffff;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .breathing-btn.start {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: #000;
        }

        .breathing-btn.stop {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: #fff;
        }

        .breathing-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .breathing-stats {
            background: rgba(243, 156, 18, 0.1);
            border-radius: 16px;
            padding: 1.5rem;
            margin-top: 2rem;
            border: 1px solid rgba(243, 156, 18, 0.2);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            text-align: center;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1rem;
        }

        .stat-value {
            display: block;
            font-size: 1.5rem;
            font-weight: 700;
            color: #f39c12;
        }

        .stat-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
        }

        /* Guided Meditations */
        .guided-meditations {
            padding: 6rem 2rem;
        }

        .meditations-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .meditations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
        }

        .meditation-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            overflow: hidden;
            transition: all 0.4s ease;
            position: relative;
            cursor: pointer;
        }

        .meditation-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            transform: scaleX(0);
            transition: transform 0.4s ease;
        }

        .meditation-card:hover::before {
            transform: scaleX(1);
        }

        .meditation-card:hover {
            transform: translateY(-15px);
            background: rgba(243, 156, 18, 0.05);
            border-color: rgba(243, 156, 18, 0.2);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }

        .meditation-image {
            height: 200px;
            background-size: cover;
            background-position: center;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .play-button {
            width: 60px;
            height: 60px;
            background: rgba(243, 156, 18, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .play-button:hover {
            transform: scale(1.1);
            background: #f39c12;
        }

        .meditation-content {
            padding: 2rem;
        }

        .meditation-card h3 {
            font-size: 1.3rem;
            font-weight: 700;
            margin: 0 0 0.5rem 0;
            color: #ffffff;
        }

        .meditation-description {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .meditation-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 1.5rem;
        }

        .meditation-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .bookmark-btn {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .bookmark-btn:hover,
        .bookmark-btn.bookmarked {
            color: #f39c12;
        }

        /* Mindfulness Challenge */
        .mindfulness-challenge {
            background: rgba(255, 255, 255, 0.02);
            padding: 6rem 2rem;
        }

        .challenge-widget {
            max-width: 1000px;
            margin: 0 auto;
            background: linear-gradient(135deg, rgba(243, 156, 18, 0.1), rgba(230, 126, 34, 0.1));
            border: 1px solid rgba(243, 156, 18, 0.2);
            border-radius: 24px;
            padding: 3rem 2rem;
            position: relative;
            overflow: hidden;
        }

        .challenge-widget::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            border-radius: 24px 24px 0 0;
        }

        .challenge-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .challenge-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #ffffff;
        }

        .challenge-timer {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 0.5rem 1rem;
            color: #f39c12;
            font-weight: 600;
        }

        .challenge-description {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .challenge-participants {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .participant-stat {
            text-align: center;
        }

        .participant-stat .number {
            display: block;
            font-size: 1.5rem;
            font-weight: 800;
            color: #f39c12;
        }

        .participant-stat .label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
        }

        .challenge-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Mindfulness Streaks */
        .mindfulness-streaks {
            padding: 6rem 2rem;
            background: rgba(255, 255, 255, 0.02);
        }

        .streaks-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .streak-display {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 3rem;
            text-align: center;
            margin-bottom: 3rem;
        }

        .current-streak {
            font-size: 4rem;
            font-weight: 900;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .streak-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }

        .weekly-calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1rem;
            margin-top: 2rem;
        }

        .calendar-day {
            aspect-ratio: 1;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: all 0.3s ease;
        }

        .calendar-day.completed {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: #000;
        }

        .calendar-day.today {
            border: 2px solid #f39c12;
        }

        .day-label {
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .day-minutes {
            font-size: 1.2rem;
            font-weight: 700;
        }

        /* Mood Tracker */
        .mood-tracker {
            padding: 6rem 2rem;
        }

        .mood-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 3rem;
        }

        .mood-selector {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .mood-option {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .mood-option:hover {
            transform: scale(1.1);
            border-color: #f39c12;
        }

        .mood-option.selected {
            border-color: #f39c12;
            background: rgba(243, 156, 18, 0.1);
            transform: scale(1.1);
        }

        .mood-label {
            position: absolute;
            bottom: -1.5rem;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            text-align: center;
            width: 100px;
            left: 50%;
            transform: translateX(-50%);
        }

        .mood-chart {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 2rem;
            margin-top: 2rem;
        }

        /* Footer */
        footer {
            background: #000000;
            padding: 3rem 2rem 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            list-style: none;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.6);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: #f39c12;
        }

        .copyright {
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.9rem;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .left-nav ul, .right-nav ul {
                display: none;
            }

            .mindfulness-hero {
                padding: 120px 1rem 4rem;
            }

            .mindfulness-hero h1 {
                font-size: 2.5rem;
            }

            .mindfulness-stats {
                flex-direction: column;
                align-items: center;
            }

            .breathing-circle {
                width: 150px;
                height: 150px;
            }

            .meditations-grid {
                grid-template-columns: 1fr;
            }

            .breathing-controls {
                flex-direction: column;
                align-items: center;
            }

            .mood-selector {
                gap: 1rem;
            }

            .mood-option {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }

            .weekly-calendar {
                gap: 0.5rem;
            }

            .challenge-actions {
                flex-direction: column;
                align-items: center;
            }

            .challenge-header {
                flex-direction: column;
                text-align: center;
            }

            .footer-links {
                flex-direction: column;
                gap: 1rem;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.1); opacity: 1; }
        }

        .breathing-glow {
            animation: breathe 4s ease-in-out infinite;
        }

        @keyframes ripple {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(2); opacity: 0; }
        }

        .ripple-effect {
            animation: ripple 1s ease-out;
        }
    </style>
<script src="js/vivify-stats.js"></script>
<script src="js/leaderboard-system.js"></script>
</head>
<body>
    <header>
        <nav>
            <div class="left-nav">
                <div class="logo">
                    <a href="index.html">Vivify</a>
                </div>
                <ul>
                    <li><a href="index.html#training">Training Areas</a></li>
                    <li><a href="index.html#habits">Habits & Challenges</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>
            </div>
            <div class="right-nav">
                <ul>
                    <li><a href="login.html" id="login-link">Login</a></li>
                    <li><a href="signup.html" class="cta-nav" id="signup-link">Start Training</a></li>
                    <!-- Logged in navigation -->
                    <li><a href="dashboard.html" id="dashboard-link" class="hidden">Dashboard</a></li>
                    <li><a href="profile.html" id="profile-link" class="hidden">Profile</a></li>
                    <li><a href="#" id="logout-link" class="hidden">Logout</a></li>
                </ul>
            </div>
        </nav>
    </header>
 
    <div class="wrapper">
        <!-- Hero Section with Live Mindfulness Stats -->
        <section class="mindfulness-hero fade-in-up">
            <div class="hero-content">
                <div class="mindfulness-badge">üßò‚Äç‚ôÄÔ∏è Elite Mindfulness Training</div>
                <h1>Master Your Mindfulness</h1>
                <p>Join 743 students building emotional resilience through guided meditation, breathing exercises, and mindfulness challenges. Transform stress into strength.</p>
                
                <div class="mindfulness-stats">
                    <div class="mindfulness-stat">
                        <span class="stat-number" id="live-meditators">743</span>
                        <span class="stat-label">Students Meditating</span>
                    </div>
                    <div class="mindfulness-stat">
                        <span class="stat-number" id="active-sessions">34</span>
                        <span class="stat-label">Active Sessions</span>
                    </div>
                    <div class="mindfulness-stat">
                        <span class="stat-number" id="minutes-today">1,847</span>
                        <span class="stat-label">Minutes Today</span>
                    </div>
                </div>
 
                <div class="hero-buttons">
                    <a href="#breathing" class="btn btn-primary">Start Breathing</a>
                    <a href="#challenge" class="btn btn-secondary">Join Daily Challenge</a>
                </div>
            </div>
        </section>
 
        <!-- Interactive Breathing Exercise -->
        <section class="breathing-section fade-in-up">
            <div class="breathing-container" id="breathing">
                <h2 class="section-heading">üå¨Ô∏è Guided Breathing</h2>
                <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 2rem;">Choose your breathing pattern and follow the visual guide. Build your mindfulness streak and track your progress!</p>
                
                <div class="breathing-patterns">
                    <div class="breathing-pattern active" onclick="selectPattern('calm')" data-pattern="calm">
                        <div class="pattern-name">Calm Breathing</div>
                        <div class="pattern-ratio">4-4-4-4</div>
                    </div>
                    <div class="breathing-pattern" onclick="selectPattern('stress')" data-pattern="stress">
                        <div class="pattern-name">Stress Relief</div>
                        <div class="pattern-ratio">4-7-8</div>
                    </div>
                    <div class="breathing-pattern" onclick="selectPattern('energy')" data-pattern="energy">
                        <div class="pattern-name">Energy Boost</div>
                        <div class="pattern-ratio">6-2-6-2</div>
                    </div>
                    <div class="breathing-pattern" onclick="selectPattern('box')" data-pattern="box">
                        <div class="pattern-name">Box Breathing</div>
                        <div class="pattern-ratio">4-4-4-4</div>
                    </div>
                </div>
 
                <div class="breathing-circle-container">
                    <div class="breathing-circle" id="breathing-circle">
                        <div class="breathing-instruction" id="breathing-instruction">Ready to breathe</div>
                    </div>
                </div>
                
                <div class="breathing-controls">
                    <button class="breathing-btn start" id="start-breathing" onclick="startBreathing()">
                        <i class="fas fa-play"></i> Start Breathing
                    </button>
                    <button class="breathing-btn stop" id="stop-breathing" onclick="stopBreathing()" style="display: none;">
                        <i class="fas fa-stop"></i> Stop
                    </button>
                </div>
 
                <div class="breathing-stats">
                    <h4 style="color: #f39c12; margin-bottom: 1rem; text-align: center;">Today's Mindfulness Progress</h4>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-value" id="breathing-sessions">0</span>
                            <span class="stat-label">Sessions</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="total-breaths">0</span>
                            <span class="stat-label">Breaths</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="mindfulness-streak">5</span>
                            <span class="stat-label">Day Streak</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="calm-score">0</span>
                            <span class="stat-label">Calm Points</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
 
        <!-- Guided Meditations Library -->
        <section class="guided-meditations fade-in-up">
            <div class="meditations-container">
                <h2 class="section-heading">üéß Guided Meditations</h2>
                <p style="text-align: center; color: rgba(255, 255, 255, 0.8); margin-bottom: 2rem;">Premium guided meditations designed for students. Build focus, reduce anxiety, and develop emotional intelligence through expert-led sessions.</p>
                
                <div class="meditations-grid">
                    <div class="meditation-card" onclick="startMeditation('focus')">
                        <div class="meditation-image" style="background-image: linear-gradient(135deg, rgba(52, 152, 219, 0.8), rgba(41, 128, 185, 0.8)), url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=600&q=80');">
                            <div class="play-button">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                        <div class="meditation-content">
                            <h3>Focus & Concentration</h3>
                            <div class="meditation-description">
                                Train your attention and build laser-sharp focus for studying and academic performance. Perfect before exams or important tasks.
                            </div>
                            <div class="meditation-meta">
                                <span>üéØ 10 minutes</span>
                                <span>üë• 1,234 students</span>
                                <span>‚≠ê 4.8/5</span>
                            </div>
                            <div class="meditation-actions">
                                <button class="btn btn-primary">Start Session</button>
                                <button class="bookmark-btn" onclick="toggleBookmark(this, 'focus')">
                                    <i class="fas fa-bookmark"></i>
                                </button>
                            </div>
                        </div>
                    </div>
 
                    <div class="meditation-card" onclick="startMeditation('anxiety')">
                        <div class="meditation-image" style="background-image: linear-gradient(135deg, rgba(46, 204, 113, 0.8), rgba(39, 174, 96, 0.8)), url('https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?auto=format&fit=crop&w=600&q=80');">
                            <div class="play-button">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                        <div class="meditation-content">
                            <h3>Anxiety Relief</h3>
                            <div class="meditation-description">
                                Release stress and worry with calming techniques designed specifically for student anxiety and academic pressure.
                            </div>
                            <div class="meditation-meta">
                                <span>üòå 12 minutes</span>
                                <span>üë• 2,156 students</span>
                                <span>‚≠ê 4.9/5</span>
                            </div>
                            <div class="meditation-actions">
                                <button class="btn btn-primary">Start Session</button>
                                <button class="bookmark-btn" onclick="toggleBookmark(this, 'anxiety')">
                                    <i class="fas fa-bookmark"></i>
                                </button>
                            </div>
                        </div>
                    </div>
 
                    <div class="meditation-card" onclick="startMeditation('sleep')">
                        <div class="meditation-image" style="background-image: linear-gradient(135deg, rgba(155, 89, 182, 0.8), rgba(142, 68, 173, 0.8)), url('https://images.unsplash.com/photo-1519057693617-04e67b669efc?auto=format&fit=crop&w=600&q=80');">
                            <div class="play-button">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                        <div class="meditation-content">
                            <h3>Better Sleep</h3>
                            <div class="meditation-description">
                                Wind down after study sessions and prepare your mind for deep, restorative sleep. Perfect for your nighttime routine.
                            </div>
                            <div class="meditation-meta">
                                <span>üåô 15 minutes</span>
                                <span>üë• 1,876 students</span>
                                <span>‚≠ê 4.7/5</span>
                            </div>
                            <div class="meditation-actions">
                                <button class="btn btn-primary">Start Session</button>
                                <button class="bookmark-btn" onclick="toggleBookmark(this, 'sleep')">
                                    <i class="fas fa-bookmark"></i>
                                </button>
                            </div>
                        </div>
                    </div>
 
                    <div class="meditation-card" onclick="startMeditation('confidence')">
                        <div class="meditation-image" style="background-image: linear-gradient(135deg, rgba(243, 156, 18, 0.8), rgba(230, 126, 34, 0.8)), url('https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=600&q=80');">
                            <div class="play-button">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                        <div class="meditation-content">
                            <h3>Confidence Building</h3>
                            <div class="meditation-description">
                                Develop unshakeable confidence for presentations, social situations, and academic challenges. Build your inner strength.
                            </div>
                            <div class="meditation-meta">
                                <span>üí™ 8 minutes</span>
                                <span>üë• 987 students</span>
                                <span>‚≠ê 4.6/5</span>
                            </div>
                            <div class="meditation-actions">
                                <button class="btn btn-primary">Start Session</button>
                                <button class="bookmark-btn" onclick="toggleBookmark(this, 'confidence')">
                                    <i class="fas fa-bookmark"></i>
                                </button>
                            </div>
                        </div>
                    </div>
 
                    <div class="meditation-card" onclick="startMeditation('exam')">
                        <div class="meditation-image" style="background-image: linear-gradient(135deg, rgba(231, 76, 60, 0.8), rgba(192, 57, 43, 0.8)), url('https://images.unsplash.com/photo-1434030216411-0b793f4b4173?auto=format&fit=crop&w=600&q=80');">
                            <div class="play-button">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                        <div class="meditation-content">
                            <h3>Exam Preparation</h3>
                            <div class="meditation-description">
                                Calm pre-exam nerves and enter test mode with clarity and confidence. Optimize your mental state for peak performance.
                            </div>
                            <div class="meditation-meta">
                                <span>üìù 6 minutes</span>
                                <span>üë• 1,543 students</span>
                                <span>‚≠ê 4.8/5</span>
                            </div>
                            <div class="meditation-actions">
                                <button class="btn btn-primary">Start Session</button>
                                <button class="bookmark-btn" onclick="toggleBookmark(this, 'exam')">
                                    <i class="fas fa-bookmark"></i>
                                </button>
                            </div>
                        </div>
                    </div>
 
                    <div class="meditation-card" onclick="startMeditation('gratitude')">
                        <div class="meditation-image" style="background-image: linear-gradient(135deg, rgba(244, 208, 63, 0.8), rgba(241, 196, 15, 0.8)), url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=600&q=80');">
                            <div class="play-button">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                        <div class="meditation-content">
                            <h3>Gratitude Practice</h3>
                            <div class="meditation-description">
                                Cultivate positivity and appreciation for improved mood and mental well-being. Perfect for ending the day on a positive note.
                            </div>
                            <div class="meditation-meta">
                                <span>üôè 7 minutes</span>
                                <span>üë• 1,298 students</span>
                                <span>‚≠ê 4.9/5</span>
                            </div>
                            <div class="meditation-actions">
                                <button class="btn btn-primary">Start Session</button>
                                <button class="bookmark-btn" onclick="toggleBookmark(this, 'gratitude')">
                                    <i class="fas fa-bookmark"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
 
        <!-- Daily Mindfulness Challenge -->
        <section class="mindfulness-challenge fade-in-up">
            <div class="challenge-widget" id="challenge">
                <div class="challenge-header">
                    <h3 class="challenge-title">üßò‚Äç‚ôÄÔ∏è Mindful Moments Challenge</h3>
                    <div class="challenge-timer" id="challenge-timer">Ends in 9:47:23</div>
                </div>
                
                <p class="challenge-description">Complete 3 mindfulness sessions today and join 456 students building emotional resilience! Use breathing exercises, guided meditations, or mindful moments. Track your progress and earn calm points!</p>
                
                <div class="challenge-participants">
                    <div class="participant-stat">
                        <span class="number" id="challenge-completed">189</span>
                        <span class="label">Completed</span>
                    </div>
                    <div class="participant-stat">
                        <span class="number" id="challenge-average">2.3</span>
                        <span class="label">Avg Sessions</span>
                    </div>
                    <div class="participant-stat">
                        <span class="number" id="your-mindfulness-rank">#47</span>
                        <span class="label">Your Rank</span>
                    </div>
                </div>
                
                <div class="challenge-actions">
                    <button class="btn btn-primary" onclick="acceptMindfulnessChallenge()">Accept Challenge</button>
                    <button class="btn btn-secondary" onclick="viewMindfulnessLeaderboard()">View Leaderboard</button>
                    <button class="btn btn-secondary" onclick="shareMindfulProgress()">Share Progress</button>
                </div>
 
                <div class="challenge-progress" id="mindfulness-challenge-progress" style="display: none;">
                    <div style="margin-top: 2rem;">
                        <div class="progress-bar" style="width: 100%; height: 12px; background: rgba(255,255,255,0.1); border-radius: 6px; overflow: hidden; margin-bottom: 1rem;">
                            <div class="progress-fill" id="mindfulness-progress-fill" style="height: 100%; background: linear-gradient(135deg, #f39c12, #e67e22); border-radius: 6px; transition: width 0.5s ease; width: 0%;"></div>
                        </div>
                        <div class="progress-text" id="mindfulness-progress-text" style="text-align: center; color: rgba(255,255,255,0.8); font-size: 0.9rem;">0/3 sessions completed</div>
                        <div style="text-align: center; margin-top: 1rem;">
                            <button class="btn btn-primary" onclick="logMindfulSession()">+ Log Session</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
 
        <!-- Mindfulness Streak Calendar -->
        <section class="mindfulness-streaks fade-in-up">
            <div class="streaks-container">
                <h2 class="section-heading">üî• Mindfulness Streak</h2>
                
                <div class="streak-display">
                    <div class="current-streak" id="display-mindfulness-streak">5</div>
                    <div class="streak-label">Day Mindfulness Streak</div>
                    <p style="color: rgba(255, 255, 255, 0.6); margin-top: 1rem;">Building emotional resilience one mindful moment at a time. Keep your streak alive!</p>
                    
                    <div class="weekly-calendar">
                        <div class="calendar-day completed">
                            <div class="day-label">Mon</div>
                            <div class="day-minutes">12</div>
                        </div>
                        <div class="calendar-day completed">
                            <div class="day-label">Tue</div>
                            <div class="day-minutes">8</div>
                        </div>
                        <div class="calendar-day completed">
                            <div class="day-label">Wed</div>
                            <div class="day-minutes">15</div>
                        </div>
                        <div class="calendar-day completed">
                            <div class="day-label">Thu</div>
                            <div class="day-minutes">10</div>
                        </div>
                        <div class="calendar-day completed">
                            <div class="day-label">Fri</div>
                            <div class="day-minutes">7</div>
                        </div>
                        <div class="calendar-day completed">
                            <div class="day-label">Sat</div>
                            <div class="day-minutes">13</div>
                        </div>
                        <div class="calendar-day today">
                            <div class="day-label">Sun</div>
                            <div class="day-minutes" id="today-mindful-minutes">0</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
 
        <!-- Mood Tracker -->
        <section class="mood-tracker fade-in-up">
            <div class="mood-container">
                <h2 class="section-heading">üòä Daily Mood Check-in</h2>
                <p style="text-align: center; color: rgba(255, 255, 255, 0.8); margin-bottom: 2rem;">Track your emotional state and see how mindfulness practices impact your mood over time.</p>
                
                <div class="mood-selector">
                    <div class="mood-option" onclick="selectMood('excited')" data-mood="excited">
                        ü§©
                        <div class="mood-label">Excited</div>
                    </div>
                    <div class="mood-option" onclick="selectMood('happy')" data-mood="happy">
                        üòä
                        <div class="mood-label">Happy</div>
                    </div>
                    <div class="mood-option" onclick="selectMood('neutral')" data-mood="neutral">
                        üòê
                        <div class="mood-label">Neutral</div>
                    </div>
                    <div class="mood-option" onclick="selectMood('stressed')" data-mood="stressed">
                        üò∞
                        <div class="mood-label">Stressed</div>
                    </div>
                    <div class="mood-option" onclick="selectMood('sad')" data-mood="sad">
                        üò¢
                        <div class="mood-label">Sad</div>
                    </div>
                </div>
 
                <div style="text-align: center; margin: 2rem 0;">
                    <button class="btn btn-primary" onclick="saveMood()" id="save-mood-btn" style="display: none;">Save Today's Mood</button>
                </div>
 
                <div class="mood-chart">
                    <h4 style="color: #f39c12; margin-bottom: 1rem; text-align: center;">This Week's Mood Journey</h4>
                    <div style="display: flex; justify-content: space-between; align-items: end; height: 100px; margin-bottom: 1rem;">
                        <div style="display: flex; flex-direction: column; align-items: center;">
                            <div style="height: 60px; width: 20px; background: linear-gradient(135deg, #f39c12, #e67e22); border-radius: 4px; margin-bottom: 0.5rem;"></div>
                            <span style="font-size: 0.8rem; color: rgba(255,255,255,0.6);">Mon</span>
                        </div>
                        <div style="display: flex; flex-direction: column; align-items: center;">
                            <div style="height: 40px; width: 20px; background: linear-gradient(135deg, #f39c12, #e67e22); border-radius: 4px; margin-bottom: 0.5rem;"></div>
                            <span style="font-size: 0.8rem; color: rgba(255,255,255,0.6);">Tue</span>
                        </div>
                        <div style="display: flex; flex-direction: column; align-items: center;">
                            <div style="height: 80px; width: 20px; background: linear-gradient(135deg, #f39c12, #e67e22); border-radius: 4px; margin-bottom: 0.5rem;"></div>
                            <span style="font-size: 0.8rem; color: rgba(255,255,255,0.6);">Wed</span>
                        </div>
                        <div style="display: flex; flex-direction: column; align-items: center;">
                            <div style="height: 70px; width: 20px; background: linear-gradient(135deg, #f39c12, #e67e22); border-radius: 4px; margin-bottom: 0.5rem;"></div>
                            <span style="font-size: 0.8rem; color: rgba(255,255,255,0.6);">Thu</span>
                        </div>
                        <div style="display: flex; flex-direction: column; align-items: center;">
                            <div style="height: 50px; width: 20px; background: linear-gradient(135deg, #f39c12, #e67e22); border-radius: 4px; margin-bottom: 0.5rem;"></div>
                            <span style="font-size: 0.8rem; color: rgba(255,255,255,0.6);">Fri</span>
                        </div>
                        <div style="display: flex; flex-direction: column; align-items: center;">
                            <div style="height: 90px; width: 20px; background: linear-gradient(135deg, #f39c12, #e67e22); border-radius: 4px; margin-bottom: 0.5rem;"></div>
                            <span style="font-size: 0.8rem; color: rgba(255,255,255,0.6);">Sat</span>
                        </div>
                        <div style="display: flex; flex-direction: column; align-items: center;">
                            <div style="height: 20px; width: 20px; background: rgba(255,255,255,0.2); border-radius: 4px; margin-bottom: 0.5rem;" id="today-mood-bar"></div>
                            <span style="font-size: 0.8rem; color: rgba(255,255,255,0.6);">Sun</span>
                        </div>
                    </div>
                    <p style="text-align: center; color: rgba(255,255,255,0.6); font-size: 0.9rem;">Your mood has improved 23% this week! üìà</p>
                </div>
            </div>
        </section>
 
        <!-- Footer -->
        <footer>
            <div class="footer-content">
                <ul class="footer-links">
                    <li><a href="privacy.html">Privacy Policy</a></li>
                    <li><a href="terms.html">Terms of Service</a></li>
                    <li><a href="contact.html">Contact Us</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>
                <p class="copyright">&copy; 2025 Vivify. Building elite habits, one day at a time.</p>
            </div>
        </footer>
    </div>
 
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check authentication status
            const isLoggedIn = localStorage.getItem('authToken') || localStorage.getItem('userLoggedIn') === 'true';
            
            // Update UI based on login status
            updateAuthState(isLoggedIn);
            
            // Initialize mindfulness stats
            updateMindfulnessStats();
            
            // Start challenge timer
            startMindfulnessChallenge();
            
            // Load user progress
            loadMindfulnessProgress();
            
            // Add scroll animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);
            
            // Observe all fade-in elements
            document.querySelectorAll('.fade-in-up').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(30px)';
                el.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
                observer.observe(el);
            });
            
            function updateAuthState(isLoggedIn) {
                // Navigation updates
                document.getElementById('login-link').style.display = isLoggedIn ? 'none' : 'block';
                document.getElementById('signup-link').style.display = isLoggedIn ? 'none' : 'block';
                document.getElementById('dashboard-link').classList.toggle('hidden', !isLoggedIn);
                document.getElementById('profile-link').classList.toggle('hidden', !isLoggedIn);
                document.getElementById('logout-link').classList.toggle('hidden', !isLoggedIn);
            }
            
            // Logout functionality
            const logoutLink = document.getElementById('logout-link');
            if (logoutLink) {
                logoutLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    localStorage.clear();
                    updateAuthState(false);
                    window.location.href = 'index.html';
                });
            }
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                           behavior: 'smooth',
                           block: 'start'
                       });
                   }
               });
           });
           
           // Header background on scroll
           window.addEventListener('scroll', function() {
               const header = document.querySelector('header');
               if (window.scrollY > 100) {
                   header.style.background = 'rgba(10, 10, 10, 0.98)';
               } else {
                   header.style.background = 'rgba(10, 10, 10, 0.95)';
               }
           });
       });
 
        // Mindfulness Stats Simulation
        function updateMindfulnessStats() {
            const baseStats = {
                meditators: 743,
                activeSessions: 34,
                minutesToday: 1847,
                challengeCompleted: 189,
                challengeAverage: 2.3
            };
            
            setInterval(() => {
                // Simulate live updates
                const variation = () => Math.floor(Math.random() * 6) - 3;
                
                document.getElementById('live-meditators').textContent = baseStats.meditators + variation();
                document.getElementById('active-sessions').textContent = Math.max(0, baseStats.activeSessions + variation());
                document.getElementById('minutes-today').textContent = baseStats.minutesToday + Math.abs(variation() * 5);
                document.getElementById('challenge-completed').textContent = baseStats.challengeCompleted + Math.abs(variation());
            }, 25000); // Update every 25 seconds
        }
 
        // Breathing Exercise Functions
        let breathingInterval;
        let currentPattern = 'calm';
        let isBreathing = false;
        let breathCount = 0;
        let breathingSession = 0;
 
        const breathingPatterns = {
            calm: { inhale: 4, hold1: 4, exhale: 4, hold2: 4, name: "Calm Breathing" },
            stress: { inhale: 4, hold1: 7, exhale: 8, hold2: 0, name: "Stress Relief" },
            energy: { inhale: 6, hold1: 2, exhale: 6, hold2: 2, name: "Energy Boost" },
            box: { inhale: 4, hold1: 4, exhale: 4, hold2: 4, name: "Box Breathing" }
        };
 
        function selectPattern(pattern) {
            if (isBreathing) return;
            
            currentPattern = pattern;
            
            // Update UI
            document.querySelectorAll('.breathing-pattern').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-pattern="${pattern}"]`).classList.add('active');
        }
 
        function startBreathing() {
            if (isBreathing) return;
            
            isBreathing = true;
            breathCount = 0;
            breathingSession++;
            
            // Update UI
            document.getElementById('start-breathing').style.display = 'none';
           document.getElementById('stop-breathing').style.display = 'inline-block';
           
           const pattern = breathingPatterns[currentPattern];
           const circle = document.getElementById('breathing-circle');
           const instruction = document.getElementById('breathing-instruction');
           
           let phase = 0; // 0: inhale, 1: hold1, 2: exhale, 3: hold2
           let phaseTime = 0;
           
           breathingInterval = setInterval(() => {
               const currentPhase = ['inhale', 'hold1', 'exhale', 'hold2'][phase];
               const phaseDuration = pattern[currentPhase];
               
               if (phaseTime === 0) {
                   // Start new phase
                   circle.className = 'breathing-circle ' + (currentPhase === 'inhale' ? 'inhale' : currentPhase === 'exhale' ? 'exhale' : 'hold');
                   
                   const instructions = {
                       inhale: 'Breathe In',
                       hold1: 'Hold',
                       exhale: 'Breathe Out',
                       hold2: 'Hold'
                   };
                   
                   instruction.textContent = instructions[currentPhase];
                   instruction.style.animation = 'fadeIn 0.5s ease-in-out';
                   
                   if (currentPhase === 'inhale') {
                       breathCount++;
                   }
               }
               
               phaseTime++;
               
               if (phaseTime >= phaseDuration) {
                   phaseTime = 0;
                   phase = (phase + 1) % 4;
                   
                   // Skip hold2 if duration is 0
                   if (phase === 3 && pattern.hold2 === 0) {
                       phase = 0;
                   }
               }
           }, 1000);
           
           // Update stats
           updateBreathingStats();
       }

       function stopBreathing() {
           isBreathing = false;
           clearInterval(breathingInterval);
           
           const circle = document.getElementById('breathing-circle');
           const instruction = document.getElementById('breathing-instruction');
           
           circle.className = 'breathing-circle';
           instruction.textContent = 'Great session! üßò‚Äç‚ôÄÔ∏è';
           
           // Update UI
           document.getElementById('start-breathing').style.display = 'inline-block';
           document.getElementById('stop-breathing').style.display = 'none';
           
           // Calculate points earned
           const pointsEarned = breathCount * 2;
           const currentScore = parseInt(document.getElementById('calm-score').textContent);
           document.getElementById('calm-score').textContent = currentScore + pointsEarned;
           
           // Celebration
           if (breathCount >= 10) {
               setTimeout(() => {
                   alert(`üßò‚Äç‚ôÄÔ∏è Breathing Session Complete! üßò‚Äç‚ôÄÔ∏è\n\n${breathCount} mindful breaths\n+${pointsEarned} calm points earned\nStreaks maintained! üî•`);
               }, 500);
           }
           
           // Save progress
           saveMindfulnessProgress();
       }

       function updateBreathingStats() {
           document.getElementById('breathing-sessions').textContent = breathingSession;
           document.getElementById('total-breaths').textContent = breathCount;
       }

       // Challenge Timer
       let challengeTimeRemaining = 9 * 3600 + 47 * 60 + 23; // 9:47:23 in seconds

       function startMindfulnessChallenge() {
           const timer = document.getElementById('challenge-timer');
           
           setInterval(() => {
               challengeTimeRemaining--;
               const hours = Math.floor(challengeTimeRemaining / 3600);
               const minutes = Math.floor((challengeTimeRemaining % 3600) / 60);
               const seconds = challengeTimeRemaining % 60;
               
               timer.textContent = `Ends in ${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
               
               if (challengeTimeRemaining <= 0) {
                   timer.textContent = 'Challenge Ended';
               }
           }, 1000);
       }

       // Challenge Functions
       let userMindfulSessions = 0;
       let mindfulnessChallengeAccepted = false;

       function acceptMindfulnessChallenge() {
           mindfulnessChallengeAccepted = true;
           document.getElementById('mindfulness-challenge-progress').style.display = 'block';
           document.querySelector('.challenge-widget').scrollIntoView({ behavior: 'smooth', block: 'center' });
           
           // Update button text
           event.target.textContent = 'Challenge Accepted! üßò‚Äç‚ôÄÔ∏è';
           event.target.style.background = 'rgba(39, 174, 96, 0.8)';
       }

       function logMindfulSession() {
           if (!mindfulnessChallengeAccepted) {
               alert('Accept the challenge first!');
               return;
           }
           
           userMindfulSessions = Math.min(userMindfulSessions + 1, 3);
           
           const progressFill = document.getElementById('mindfulness-progress-fill');
           const progressText = document.getElementById('mindfulness-progress-text');
           
           const percentage = (userMindfulSessions / 3) * 100;
           progressFill.style.width = percentage + '%';
           progressText.textContent = `${userMindfulSessions}/3 sessions completed`;
           
           if (userMindfulSessions >= 3) {
               progressText.innerHTML = `üßò‚Äç‚ôÄÔ∏è Mindfulness Challenge Complete! Inner peace achieved! üßò‚Äç‚ôÄÔ∏è<br><small>+60 Calm Points earned ‚Ä¢ Streak maintained</small>`;
               progressFill.style.background = 'linear-gradient(135deg, #27ae60, #2ecc71)';
               
               // Celebration animation
               document.querySelector('.challenge-widget').classList.add('bounce-in');
               setTimeout(() => {
                   document.querySelector('.challenge-widget').classList.remove('bounce-in');
               }, 600);
           }
           
           // Save progress
           localStorage.setItem('todayMindfulSessions', userMindfulSessions);
       }

       function viewMindfulnessLeaderboard() {
           alert('Opening mindfulness leaderboard... See how your calm ranks among other students! üßò‚Äç‚ôÄÔ∏è');
       }

       function shareMindfulProgress() {
           const shareText = `Just completed ${userMindfulSessions} mindfulness sessions on Vivify! üßò‚Äç‚ôÄÔ∏è Building emotional resilience and inner peace. Join me: ${window.location.origin}`;
           
           if (navigator.share) {
               navigator.share({
                   title: 'Mindfulness Progress Update!',
                   text: shareText,
                   url: window.location.origin
               });
           } else {
               navigator.clipboard.writeText(shareText).then(() => {
                   alert('Mindfulness progress copied to clipboard! Share your journey to inner peace üßò‚Äç‚ôÄÔ∏è');
               });
           }
       }

       // Meditation Functions
       function startMeditation(type) {
           const meditationNames = {
               'focus': 'Focus & Concentration',
               'anxiety': 'Anxiety Relief',
               'sleep': 'Better Sleep',
               'confidence': 'Confidence Building',
               'exam': 'Exam Preparation',
               'gratitude': 'Gratitude Practice'
           };
           
           alert(`Starting ${meditationNames[type]} meditation! üéß\n\nThis would launch the guided meditation session with calming music and voice guidance. Track your progress and build your mindfulness streak!`);
           
           // In a real app, this would start the audio meditation
           // For demo, we'll simulate session completion
           setTimeout(() => {
               completeMeditation(type);
           }, 2000);
       }

       function completeMeditation(type) {
           const durations = {
               'focus': 10, 'anxiety': 12, 'sleep': 15,
               'confidence': 8, 'exam': 6, 'gratitude': 7
           };
           
           const duration = durations[type];
           const points = duration * 5; // 5 points per minute
           
           const completionMessage = `üßò‚Äç‚ôÄÔ∏è Meditation Complete! üßò‚Äç‚ôÄÔ∏è\n\n` +
               `${duration} minutes of guided meditation\n` +
               `+${points} calm points earned\n` +
               `Inner peace strengthened! üåü\n\n` +
               `Share your mindful moment?`;
               
           if (confirm(completionMessage)) {
               shareMeditationAchievement(type, duration, points);
           }
           
           // Update stats
           const currentScore = parseInt(document.getElementById('calm-score').textContent);
           document.getElementById('calm-score').textContent = currentScore + points;
           
           // Update today's minutes
           document.getElementById('today-mindful-minutes').textContent = duration;
           document.querySelector('.calendar-day.today').classList.add('completed');
           
           // Auto-log session for challenge
           if (mindfulnessChallengeAccepted && userMindfulSessions < 3) {
               logMindfulSession();
           }
       }

       function shareMeditationAchievement(type, duration, points) {
           const shareText = `Just completed a ${duration}-minute ${type} meditation on Vivify! üßò‚Äç‚ôÄÔ∏è +${points} calm points earned. Building mindfulness habits: ${window.location.origin}`;
           
           if (navigator.share) {
               navigator.share({
                   title: 'Meditation Achievement!',
                   text: shareText,
                   url: window.location.origin
               });
           } else {
               navigator.clipboard.writeText(shareText).then(() => {
                   alert('Achievement copied to clipboard! Share your mindful journey üßò‚Äç‚ôÄÔ∏è');
               });
           }
       }

       function toggleBookmark(button, meditationType) {
           button.classList.toggle('bookmarked');
           
           const bookmarks = JSON.parse(localStorage.getItem('meditationBookmarks') || '[]');
           
           if (button.classList.contains('bookmarked')) {
               bookmarks.push(meditationType);
               button.style.color = '#f39c12';
           } else {
               const index = bookmarks.indexOf(meditationType);
               if (index > -1) bookmarks.splice(index, 1);
               button.style.color = 'rgba(255, 255, 255, 0.6)';
           }
           
           localStorage.setItem('meditationBookmarks', JSON.stringify(bookmarks));
       }

       // Mood Tracker Functions
       let selectedMood = null;

       function selectMood(mood) {
           selectedMood = mood;
           
           // Update UI
           document.querySelectorAll('.mood-option').forEach(option => {
               option.classList.remove('selected');
           });
           document.querySelector(`[data-mood="${mood}"]`).classList.add('selected');
           
           // Show save button
           document.getElementById('save-mood-btn').style.display = 'inline-block';
       }

       function saveMood() {
           if (!selectedMood) return;
           
           // Save mood to localStorage
           const today = new Date().toDateString();
           localStorage.setItem(`mood_${today}`, selectedMood);
           
           // Update today's mood bar
           const moodValues = { sad: 20, stressed: 40, neutral: 60, happy: 80, excited: 100 };
           const todayBar = document.getElementById('today-mood-bar');
           todayBar.style.height = moodValues[selectedMood] + 'px';
           todayBar.style.background = 'linear-gradient(135deg, #f39c12, #e67e22)';
           
           // Hide save button and show confirmation
           document.getElementById('save-mood-btn').style.display = 'none';
           
           alert(`Mood saved! üòä\n\nYour ${selectedMood} mood has been logged for today. Keep tracking to see patterns and progress!`);
           
           // Reset selection
           document.querySelectorAll('.mood-option').forEach(option => {
               option.classList.remove('selected');
           });
           selectedMood = null;
       }

       // Progress Saving and Loading
       function saveMindfulnessProgress() {
           const progress = {
               breathingSessions: document.getElementById('breathing-sessions').textContent,
               totalBreaths: document.getElementById('total-breaths').textContent,
               calmScore: document.getElementById('calm-score').textContent,
               mindfulnessStreak: document.getElementById('mindfulness-streak').textContent,
               challengeSessions: userMindfulSessions,
               lastSaved: Date.now()
           };
           
           localStorage.setItem('mindfulnessProgress', JSON.stringify(progress));
       }

       function loadMindfulnessProgress() {
           const saved = localStorage.getItem('mindfulnessProgress');
           if (saved) {
               const progress = JSON.parse(saved);
               
               // Check if it's the same day
               const today = new Date().toDateString();
               const savedDate = new Date(progress.lastSaved).toDateString();
               
               if (today === savedDate) {
                   document.getElementById('breathing-sessions').textContent = progress.breathingSessions || '0';
                   document.getElementById('total-breaths').textContent = progress.totalBreaths || '0';
                   document.getElementById('calm-score').textContent = progress.calmScore || '0';
                   
                   // Load challenge progress
                   const savedChallengeSessions = localStorage.getItem('todayMindfulSessions');
                   if (savedChallengeSessions) {
                       userMindfulSessions = parseInt(savedChallengeSessions);
                       if (userMindfulSessions > 0) {
                           mindfulnessChallengeAccepted = true;
                           document.getElementById('mindfulness-challenge-progress').style.display = 'block';
                           
                           const progressFill = document.getElementById('mindfulness-progress-fill');
                           const progressText = document.getElementById('mindfulness-progress-text');
                           
                           const percentage = (userMindfulSessions / 3) * 100;
                           progressFill.style.width = percentage + '%';
                           progressText.textContent = `${userMindfulSessions}/3 sessions completed`;
                           
                           if (userMindfulSessions >= 3) {
                               progressText.innerHTML = `üßò‚Äç‚ôÄÔ∏è Mindfulness Challenge Complete! Inner peace achieved! üßò‚Äç‚ôÄÔ∏è<br><small>+60 Calm Points earned ‚Ä¢ Streak maintained</small>`;
                               progressFill.style.background = 'linear-gradient(135deg, #27ae60, #2ecc71)';
                           }
                       }
                   }
               }
           }
           
           // Load bookmarked meditations
           const bookmarks = JSON.parse(localStorage.getItem('meditationBookmarks') || '[]');
           bookmarks.forEach(type => {
               const button = document.querySelector(`[onclick*="${type}"] .bookmark-btn`);
               if (button) {
                   button.classList.add('bookmarked');
                   button.style.color = '#f39c12';
               }
           });
           
           // Load today's mood
           const today = new Date().toDateString();
           const todayMood = localStorage.getItem(`mood_${today}`);
           if (todayMood) {
               const moodValues = { sad: 20, stressed: 40, neutral: 60, happy: 80, excited: 100 };
               const todayBar = document.getElementById('today-mood-bar');
               todayBar.style.height = moodValues[todayMood] + 'px';
               todayBar.style.background = 'linear-gradient(135deg, #f39c12, #e67e22)';
           }
       }

       // Auto-save progress every 30 seconds
       setInterval(saveMindfulnessProgress, 30000);
  </script>
</body>
</html>